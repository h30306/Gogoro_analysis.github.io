(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+B5S":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var o=n("v83y"),r=n("EKef"),i=n("/cUP"),a=n("e0gr"),c=n("YMek");function l(e,t,n,o,r,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(o,r)}function u(e,t){return s.apply(this,arguments)}function s(){var e;return e=regeneratorRuntime.mark(function e(t,n){var l,u,s,p,f,d,y,h,b,g,m,v,_,E,S,w,O,k,x,j,C,P;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=r.default.editorState,u={},s=!0,p=!1,f=void 0,e.prev=5,d=l.getCurrentContent().getBlocks()[Symbol.iterator]();case 7:if(s=(y=d.next()).done){e.next=45;break}h=y.value,b=!0,g=!1,m=void 0,e.prev=12,v=h.getEntities()[Symbol.iterator]();case 14:if(b=(_=v.next()).done){e.next=28;break}if("TEXT"===(E=_.value).type&&!E.getProperty("customSizing")){e.next=18;break}return e.abrupt("continue",25);case 18:return S=Object(c.createStyleFunctions)(E.getProperty("template"),n),w=E.getProperty("content"),O=Object(a.createEditableEditorState)(Object(o.convertFromRaw)(w.toJS())),e.next=23,Object(a.measureText)(t,O,S,!1);case 23:k=e.sent,u[E.getKey()]=k;case 25:b=!0,e.next=14;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(12),g=!0,m=e.t0;case 34:e.prev=34,e.prev=35,b||null==v.return||v.return();case 37:if(e.prev=37,!g){e.next=40;break}throw m;case 40:return e.finish(37);case 41:return e.finish(34);case 42:s=!0,e.next=7;break;case 45:e.next=51;break;case 47:e.prev=47,e.t1=e.catch(5),p=!0,f=e.t1;case 51:e.prev=51,e.prev=52,s||null==d.return||d.return();case 54:if(e.prev=54,!p){e.next=57;break}throw f;case 57:return e.finish(54);case 58:return e.finish(51);case 59:for(Object(a.cleanupMeasure)(t),x=l,j=Object.keys(u),C=0;C<j.length;C++)P=j[C],x=x.setEntity(P,u[P]);Object(i.updateEditorState)(x);case 64:case"end":return e.stop()}},e,this,[[5,47,51,59],[12,30,34,42],[35,,37,41],[52,,54,58]])}),(s=function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){l(i,o,r,a,c,"next",e)}function c(e){l(i,o,r,a,c,"throw",e)}a(void 0)})}).apply(this,arguments)}},"+mTV":function(e,t,n){"use strict";function o(e){return r[e]}n.r(t),n.d(t,"default",function(){return o});var r={figures:[{type:"IMAGE",width:60,height:60,offsetX:0,top:10,align:"{{ALIGN_LEFT}}",props:{subType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",url:"https://infogr.am/i/templates/pixel.gif",width:25,height:24}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"body"}},{type:"IMAGE",width:60,height:60,offsetX:0,top:10,props:{subType:"icon",path:"m25,12.5q0,0.63,-0.46,1.1t-1.1,0.46l-21.87,0q-0.63,0,-1.1,-0.46t-0.46,-1.1t0.46,-1.1l10.94,-10.94q0.46,-0.46,1.1,-0.46t1.1,0.46l10.94,10.94q0.46,0.46,0.46,1.1Z",url:"https://infogr.am/i/templates/pixel.gif",width:25,height:14},align:"{{ALIGN_LEFT}}"},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",props:{template:"body"}}],centeredfact:[{type:"IMAGE",width:60,height:60,offsetX:0,top:0,newline:!0,props:{subType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",url:"https://infogr.am/i/templates/pixel.gif",width:25,height:24}},{type:"TEXT",offsetX:0,top:2,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:10,props:{template:"body"}}],quote:[{type:"IMAGE",width:45,height:45,offsetX:0,top:0,props:{subType:"icon",path:"M0,5.721C0,4.195,0.616,2.86,1.846,1.716C3.077,0.572,4.529,0,6.201,0C8.83,0,10.849,0.87,12.259,2.61C13.669,4.35,14.373,6.758,14.373,9.832C14.373,12.693,13.161,15.577,10.735,18.485C8.31,21.392,5.388,23.598,1.971,25.099C1.971,25.099,0.394,22.561,0.394,22.561C3.098,21.25,5.216,19.724,6.747,17.984C8.279,16.244,9.164,14.134,9.404,11.656C9.404,11.656,7.393,11.656,7.393,11.656C5.91,11.656,4.702,11.489,3.769,11.155C2.836,10.821,2.082,10.356,1.507,9.761C0.958,9.189,0.569,8.557,0.342,7.866C0.114,7.174,0,6.459,0,5.721C0,5.721,0,5.721,0,5.721M17.627,5.721C17.627,4.195,18.242,2.86,19.473,1.716C20.703,0.572,22.155,0,23.828,0C26.456,0,28.475,0.87,29.885,2.61C31.295,4.35,32,6.758,32,9.832C32,12.693,30.787,15.577,28.362,18.485C25.936,21.392,23.015,23.598,19.597,25.099C19.597,25.099,18.02,22.561,18.02,22.561C20.725,21.25,22.843,19.724,24.374,17.984C25.905,16.244,26.791,14.134,27.03,11.656C27.03,11.656,25.02,11.656,25.02,11.656C23.537,11.656,22.328,11.489,21.395,11.155C20.463,10.821,19.709,10.356,19.134,9.761C18.584,9.189,18.195,8.557,17.968,7.866C17.741,7.174,17.627,6.459,17.627,5.721C17.627,5.721,17.627,5.721,17.627,5.721",url:"https://infogr.am/i/templates/pixel.gif",width:32,height:26},newline:!0},{type:"TEXT",offsetX:0,top:5,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:20,props:{template:"body"}}]}},"/QJz":function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),c=n("yb06"),l=n.n(c),u=n("Jgc/"),s=n("vmwM"),p=n("Sye6"),f=n("XjPQ"),d=n("WdyC"),y=n("76fW"),h=n.n(y),b=n("OVpQ");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=m(t).call(this,e))||"object"!==g(r)&&"function"!=typeof r?S(o):r)._onResizeStart=n._onResizeStart.bind(S(S(n))),n._onResize=n._onResize.bind(S(S(n))),n._onResizeStop=n._onResizeStop.bind(S(S(n))),n._onDragStart=n._onDragStart.bind(S(S(n))),n._onDrag=n._onDrag.bind(S(S(n))),n._onDragStop=n._onDragStop.bind(S(S(n))),n._exitClippingOnEnter=n._exitClippingOnEnter.bind(S(S(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.a.Component),_(t,null,[{key:"getStores",value:function(){return[s.default,p.default]}},{key:"calculateState",value:function(e,t){var n=s.default.currentImageClip,o=t.entity,r=t.scaleX,i=t.scaleY,a={left:n.get("left")*o.getWidth()*r/100,top:n.get("top")*o.getHeight()*i/100,width:(100-n.get("left")-n.get("right"))*o.getWidth()*r/100,height:(100-n.get("top")-n.get("bottom"))*o.getHeight()*i/100};return{crop:n,cropDimensions:a,entitySize:{width:o.getWidth()*r,height:o.getHeight()*i},pristine:s.default.pristine,transformOriginOffset:s.default.transformOriginOffset}}}]),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this._exitClippingOnEnter)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this._exitClippingOnEnter)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(d.startClipResize)({startPoint:Object(f.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onResize),document.addEventListener("mouseup",this._onResizeStop)}},{key:"_onResize",value:function(e){e.stopPropagation();var t=e.shiftKey;Object(d.resizeImageCrop)(Object(f.Point)(e.clientX,e.clientY),t)}},{key:"_onResizeStop",value:function(){var e=this.props.entity,t=this.state,n=t.crop,o=t.transformOriginOffset,r=t.pristine;Object(d.saveCrop)(n,o,e.getKey(),{pushToUndoStack:r}),document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(d.startClipMove)({startPoint:Object(f.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(d.moveImageCrop)(Object(f.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){var e=this.props.entity,t=this.state,n=t.crop,o=t.transformOriginOffset,r=t.pristine;Object(d.saveCrop)(n,o,e.getKey(),{pushToUndoStack:r}),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_exitClippingOnEnter",value:function(e){"Enter"===e.key&&Object(d.exitClippingMode)()}},{key:"render",value:function(){var e=this.props.entity,t=this.state,n=t.crop,o=t.cropDimensions,i=t.entitySize,a=e.getProperty("url").replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"),c=o,l={WebkitClipPath:"inset(".concat(n.get("top"),"% ").concat(n.get("right"),"% ").concat(n.get("bottom"),"% ").concat(n.get("left"),"%)"),clipPath:"inset(".concat(n.get("top"),"% ").concat(n.get("right"),"% ").concat(n.get("bottom"),"% ").concat(n.get("left"),"%)"),left:-o.left,top:-o.top,width:i.width,height:i.height};return r.a.createElement("div",{className:h.a.container},r.a.createElement("img",{className:h.a.cropBackground,src:a}),r.a.createElement("div",{className:h.a.previewContainer,style:c},r.a.createElement("img",{className:h.a.cropPreview,style:l,src:a})),r.a.createElement(b.default,{crop:n,onHandleMove:this._onResizeStart,onDrag:this._onDragStart}))}}]),t}();w.propTypes={entity:l.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=u.Container.create(w,{withProps:!0})},"4Zd/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("yb06"),p=n.n(s),f=n("TSYQ"),d=n.n(f),y=n("/MKj"),h=n("LvDl"),b=n.n(h),g=n("h7h9"),m=n("vmwM"),v=n("01y2"),_=n("PFhn"),E=n("HB54"),S=n.n(E),w=n("rfNr");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=Object(y.connect)(function(e,t){var n=e.getIn(["flexCollaboration","users"]),o=n&&n.find(function(e){return e.get("selectedObjects").contains(t.entity.key)});return o?{hasExternalSelection:!0,externalSelectionUserName:o.get("displayName"),externalSelectionUserColor:o.get("color")}:{}},null,null,{areStatesEqual:function(e,t){return e.getIn(["flexCollaboration","users"])===t.getIn(["flexCollaboration","users"])}})(o=Object(_.default)()((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,C(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,a["Component"]),n=t,r=[{key:"getStores",value:function(){return[m.default]}},{key:"calculateState",value:function(){return{isClipping:null!==m.default.activeType}}}],(o=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.hasExternalSelection,o=e.selected,r=e.multipleSelected;if((!o||o&&r)&&!n)return null;var i,l=this.state.isClipping,u=t.bounds(l);if(l){var s=Object(w.default)(t,{left:50,top:50});u.top+=s.get("y"),u.left+=s.get("x")}if(o&&"CHART"===t.type&&!t.locked){var p=!1,f=!1,y=g.default.getEntity(t.getKey());if(y)p=(p=y.chartOptions&&"map"===y.chartOptions.type)&&!b.a.get(y,"custom.map_json.disableZoom"),f=y.data.length>1;else{var h=t.getProperty("chartData");p=h&&9===h.get("chart_type_nr")&&2===h.get("modifier")}p&&(i=c.a.createElement(v.default,{chartId:t.getKey(),hasMultipleSheets:f}))}var m={top:u.top*this.props.scaleY,left:u.left*this.props.scaleX,width:u.width*this.props.scaleX,height:u.height*this.props.scaleY,position:"absolute",pointerEvents:"none",border:"1px dashed #3195cb"};return c.a.createElement(a.Fragment,null,n&&c.a.createElement("div",{className:S.a.border,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){k(e,t,n[t])})}return e}({},m,{border:"1px solid ".concat(this.props.externalSelectionUserColor)})},c.a.createElement("div",{className:S.a.username,style:{backgroundColor:this.props.externalSelectionUserColor}},this.props.externalSelectionUserName)),o&&!r&&!t.isLine()&&c.a.createElement("div",{className:d()(S.a.container),style:m},i))}}])&&x(n.prototype,o),r&&x(n,r),t}(),r.propTypes={entity:p.a.record.isRequired,scaleX:u.a.number.isRequired,scaleY:u.a.number.isRequired,selected:u.a.bool.isRequired,multipleSelected:u.a.bool.isRequired,hasExternalSelection:u.a.bool,externalSelectionUserName:u.a.string,externalSelectionUserColor:u.a.string},o=i))||o)||o},"76fW":function(e,t,n){var o=n("8tEq");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},"8tEq":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._24lLGmRDcNw_dIH0AL_7iB {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._386twuBpgmEEmpVQeSAHto {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n.wJem9qYHKSzsO5d_lR9U9 {\n    position: absolute;\n    overflow: hidden;\n}\n\n._mAVZ2K2bzwSWgxKA20k {\n    position: absolute;\n}\n\n._1_FLyJFH2ezo-67GvocIFS {\n    position: absolute;\n    box-sizing: border-box;\n    border: 2px dotted #ff00ff;\n    pointer-events: auto;\n}\n\n.Vunraq2yFK8_L3qE9HYCc {\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    border: 1px solid #fff;\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n._17DZGw_UMkidLQzj6zqI5u,\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    width: 15px;\n    height: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n._17DZGw_UMkidLQzj6zqI5u:hover,\n._3f_i2tRbMJ0iQfXDBKEW95:hover {\n    transform: translateX(-50%) scale(1.5);\n}\n\n._3hpZSIf02CeSNPNFGL4cX6,\n._3eGpzkXhWxjiONt-rlaD21 {\n    width: 3px;\n    height: 15px;\n    top: 50%;\n    transform: translateY(-50%);\n}\n._3hpZSIf02CeSNPNFGL4cX6:hover,\n._3eGpzkXhWxjiONt-rlaD21:hover {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._17DZGw_UMkidLQzj6zqI5u {\n    top: -4px;\n}\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    bottom: -4px;\n}\n._3hpZSIf02CeSNPNFGL4cX6 {\n    left: -4px;\n}\n._3eGpzkXhWxjiONt-rlaD21 {\n    right: -4px;\n}\n\n.yCdcdFrZGotgRwIGkGAeA {\n    display: block;\n    position: absolute;\n    width: 4px;\n    height: 4px;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    background: #ff00ff;\n    border-left: 1px solid #fff;\n    border-top: 1px solid #fff;\n}\n.yCdcdFrZGotgRwIGkGAeA:before,\n.yCdcdFrZGotgRwIGkGAeA:after {\n    content: '';\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    box-sizing: border-box;\n    border: 1px solid #fff;\n}\n.yCdcdFrZGotgRwIGkGAeA:before {\n    height: 6px;\n    width: 4px;\n    left: -1px;\n    bottom: -6px;\n    border-top: none;\n}\n.yCdcdFrZGotgRwIGkGAeA:after {\n    width: 6px;\n    height: 4px;\n    right: -6px;\n    top: -1px;\n    border-left: 0;\n}\n\n._2-Z5KP4_DqT8SZxrVVyC-N {\n    top: -4px;\n    left: -4px;\n}\n._2-Z5KP4_DqT8SZxrVVyC-N:hover {\n    transform: scale(1.5);\n}\n\n._1r2p9DbL8irH3tlvXFxn_w {\n    top: -4px;\n    right: -4px;\n    transform: rotate(90deg);\n}\n._1r2p9DbL8irH3tlvXFxn_w:hover {\n    transform: rotate(90deg) scale(1.5);\n}\n\n._3Jk4Zm5I0v0qCRk0bhIyJs {\n    bottom: -4px;\n    right: -4px;\n    transform: rotate(180deg);\n}\n._3Jk4Zm5I0v0qCRk0bhIyJs:hover {\n    transform: rotate(180deg) scale(1.5);\n}\n\n._1EPEAYJ1xCcdvncIPoTPt8 {\n    bottom: -4px;\n    left: -4px;\n    transform: rotate(270deg);\n}\n._1EPEAYJ1xCcdvncIPoTPt8:hover {\n    transform: rotate(270deg) scale(1.5);\n}\n\n.Vunraq2yFK8_L3qE9HYCc,\n.yCdcdFrZGotgRwIGkGAeA {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={container:"_24lLGmRDcNw_dIH0AL_7iB",cropBackground:"_386twuBpgmEEmpVQeSAHto",previewContainer:"wJem9qYHKSzsO5d_lR9U9",cropPreview:"_mAVZ2K2bzwSWgxKA20k",cropBox:"_1_FLyJFH2ezo-67GvocIFS",sideHandle:"Vunraq2yFK8_L3qE9HYCc",topHandle:"_17DZGw_UMkidLQzj6zqI5u",bottomHandle:"_3f_i2tRbMJ0iQfXDBKEW95",leftHandle:"_3hpZSIf02CeSNPNFGL4cX6",rightHandle:"_3eGpzkXhWxjiONt-rlaD21",cornerHandle:"yCdcdFrZGotgRwIGkGAeA",topLeftHandle:"_2-Z5KP4_DqT8SZxrVVyC-N",topRightHandle:"_1r2p9DbL8irH3tlvXFxn_w",bottomRightHandle:"_3Jk4Zm5I0v0qCRk0bhIyJs",bottomLeftHandle:"_1EPEAYJ1xCcdvncIPoTPt8"}},"9EZc":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return E});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("dGoc"),y=n.n(d),h=n("244d");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=Object(f.connect)(function(e){var t=e.getIn(["revisions","editorState"]).getCurrentContent();return{content:t,totalPages:t.getBlocks().size}})((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,v(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.block,n=e.children,o=e.content,r=e.totalPages,i=o.getBlockIndex(t.getKey())+1;return c.a.createElement("div",{className:y.a.blockContainer},c.a.createElement("div",{className:y.a.pageIndicatorText},i18n.t("app.freelayout_editor.page_n_of_m",{current:i,total:r})),c.a.createElement(h.default,{block:this.props.block,width:this.props.width,height:this.props.height},n))}}])&&g(n.prototype,o),r&&g(n,r),t}(),r.propTypes={content:u.a.object.isRequired,children:u.a.node.isRequired,block:p.a.record.isRequired,totalPages:u.a.number.isRequired,width:u.a.number.isRequired,height:u.a.number.isRequired},o=i))||o},"9aBx":function(e,t,n){"use strict";n.r(t);var o=n("BTYd");n.d(t,"Text",function(){return o.default});var r=n("xugc");n.d(t,"EditableText",function(){return r.default});var i=n("up6U");n.d(t,"createTextComponent",function(){return i.default})},D4ZG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._7F4Du4QULhT9hrP6W8dfc {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border: 1px dotted #3195cb;\n    transform-origin: 50% 50%;\n}\n\n.Bk87vnu9ySW7PPGJCgWpT {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n}\n\n._1WCYG90HItV-GDrCwVHX_A {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n._1mqEolyZPAOFLcc6Tv54Dx {\n    position: absolute;\n    pointer-events: auto;\n}\n\n._3tsj5CslQQhm19G_IECAjI {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    margin: 3px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    cursor: pointer;\n}\n",""]),t.locals={container:"_7F4Du4QULhT9hrP6W8dfc",mask:"_2lgtazEtFwc2F5pJlUs8Ug",background:"Bk87vnu9ySW7PPGJCgWpT",preview:"_1WCYG90HItV-GDrCwVHX_A",selector:"_1mqEolyZPAOFLcc6Tv54Dx",resizeHandle:"_3tsj5CslQQhm19G_IECAjI"}},GRZN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return w});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("wd/R"),f=n.n(p),d=n("TSYQ"),y=n.n(d),h=n("rMMX"),b=n("ZGOS"),g=n.n(b);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Object(s.connect)(function(e){var t=e.getIn(["revisions","selectedIndex"]),n=e.getIn(["revisions","revisions"]),o={selectedIndex:t};if(t&&n.size){var r=n.get(t);r&&(o.name=r.get("userName"),o.avatar=r.get("userAvatar"),o.date=f.a.unix(r.get("createdAt")).format("YYYY-MM-DD, H:mm"))}return o})((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,E(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e;return e=this.props.selectedIndex?c.a.createElement("div",{className:g.a.version},c.a.createElement("div",{className:g.a.date},this.props.date),c.a.createElement(h.default,{avatarClass:g.a.avatar,avatarImage:this.props.avatar,fullName:this.props.name}),c.a.createElement("div",{className:g.a.name},this.props.name)):c.a.createElement("div",{className:g.a.version},i18n.t("app.revisions.current_version")),c.a.createElement("div",{className:g.a.title},c.a.createElement("div",{className:y()("icon-history",g.a.icon)}),c.a.createElement("div",{className:g.a.label},i18n.t("app.revisions.version_history_label")),e)}}])&&v(n.prototype,o),r&&v(n,r),t}(),r.propTypes={selectedIndex:u.a.number.isRequired,date:u.a.string,avatar:u.a.string,name:u.a.string},o=i))||o},GnhQ:function(e,t,n){e.exports=n.p+"wvLPl18gUwE54vzgEIsl7.svg"},HB54:function(e,t,n){var o=n("h0S4");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},Hejo:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return z});var o,r,i,a=n("LvDl"),c=n.n(a),l=n("q1tI"),u=n.n(l),s=n("17x9"),p=n.n(s),f=n("yb06"),d=n.n(f),y=n("oz7q"),h=n("EKef"),b=n("Sye6"),g=n("UYEr"),m=n("/MKj"),v=n("ySsV"),_=n("PFhn"),E=n("/cUP"),S=n("aXXi"),w=n("pWtM");function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var D=60,N=230,A=60;var z=Object(y.DropTarget)("ELEMENT_MENU_ITEM",{drop:function(e,t){return t.getClientOffset()}},function(e){return{connectDropTarget:e.dropTarget()}})(o=Object(m.connect)(function(e){return{footerSettings:e.get("footerSettings"),guideSettings:e.get("flexEditorGrid")}},function(e){return{notifySelectionChange:function(t,n){e({type:S.FLEX_EDITOR_SELECTION_CHANGED,payload:{projectId:t,selection:n}})},updateMousePosition:function(t,n){e({type:S.MOUSE_MOVE,payload:{x:t,y:n}})}}})(o=Object(_.default)()((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=C(t).call(this,e),(n=!r||"object"!==O(r)&&"function"!=typeof r?I(o):r)._updateMousePositionIfHasSelection=n._updateMousePositionIfHasSelection.bind(I(I(n))),n.throttledUpdateMousePosition=c.a.throttle(function(e,t){n.props.updateMousePosition(e,t)},100),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,u.a.Component),R(t,null,[{key:"getStores",value:function(){return[h.default,b.default,v.default]}},{key:"calculateState",value:function(){return{projectId:v.default.infographicId,editorState:h.default.editorState,currentSelection:b.default.currentSelection,initialBoundingBox:b.default.initialBoundingBox,multiSelectionActive:b.default.multiSelectionActive}}}]),R(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=j(e,["connectDropTarget"]);return t(u.a.createElement("div",{style:{position:"relative"}},u.a.createElement(g.InfographicEditor,x({blockOverlayComponent:w.default,currentSelection:this.state.currentSelection,editorState:this.state.editorState,initialBoundingBox:this.state.initialBoundingBox,multiSelectionActive:this.state.multiSelectionActive,footerSettings:this.props.footerSettings,guideSettings:this.props.guideSettings},n,{updateMousePosition:this._updateMousePositionIfHasSelection}))))}},{key:"componentDidUpdate",value:function(e,t){t.currentSelection!==this.state.currentSelection&&this.props.notifySelectionChange(this.state.projectId,k(this.state.currentSelection.getEntities()).concat(k(this.state.currentSelection.getBlocks())))}},{key:"componentDidMount",value:function(){var e=function(e){var t=document.body.clientWidth;t-=D+N+2*A;var n=e.getPageSize().width;if(n<=t)return 1;return t/n}(this.state.editorState);e<1&&requestAnimationFrame(function(){return Object(E.scale)(e)})}},{key:"_updateMousePositionIfHasSelection",value:function(e,t){this.state.currentSelection.isEmpty()||this.throttledUpdateMousePosition(e,t)}}]),t}(),r.propTypes={connectDropTarget:p.a.func.isRequired,footerSettings:p.a.shape({backgroundColor:p.a.string,backgroundOpacity:p.a.number.isRequired,bold:p.a.bool,footerLayout:p.a.string,footnoteType:p.a.string,footnoteText:p.a.string,footnoteStyle:p.a.shape({bold:p.a.bool,italic:p.a.bool,fontSize:p.a.number,color:p.a.string}),italic:p.a.bool,logoType:p.a.string,logoImage:p.a.string,footerLink:p.a.string}),guideSettings:d.a.contains({showGuides:p.a.bool.isRequired,snapObjects:p.a.bool.isRequired,whitespacePercent:p.a.number.isRequired,columnCount:p.a.number.isRequired,rowSpacing:p.a.number.isRequired}),notifySelectionChange:p.a.func.isRequired,updateMousePosition:p.a.func.isRequired},o=i))||o)||o)||o},Huhh:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var o=n("AjAl"),r=n("xugc"),i=n("6Aeb"),a=n("4682"),c=n("aojp"),l={MEDIA:o.default,TEXT:r.default,SHAPE:i.default,IMAGE:a.default,CHART:c.default};function u(e){return l[e]||null}},KJEt:function(e,t,n){var o=n("tE8V");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},L7g7:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3RlZyoFq8cVDAlWG1Sw_kg {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3 {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3.zMa-BGuuvfCGiLAYC1fA2 {\n    border: 1px solid #3195cb;\n}\n\n._1DK_4PS0XZXN7do-tFhgqQ {\n    border: 1px solid #949496;\n}\n\n._1BZIFp5hXUEWExNBdUJ9X0 {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    padding: 3px;\n\n}\n._2iiUhZ7Y_Q2NSf2LFFRvOP {\n    pointer-events: none;\n    height: 11px;\n    width: 11px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    transition: transform 50ms ease-in-out;\n}\n\n._1UP3fhANfTxN0p3PTRxaUv {\n    pointer-events: auto;\n    position: absolute;\n}\n\n._5fp0eO5UuTtwAV5uwaDLE {\n    pointer-events: none;\n    height: 12px;\n    width: 12px;\n    background: #3195cb;\n    border: 1px solid #fff;\n    border-radius: 7px;\n    transition: transform 50ms ease-in-out;\n}\n\n._2ake8U1_bqJaIPc7-jLb-u {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    top: 6px;\n    border: 1px solid #3195cb;\n    border-radius: 100%;\n    width: 13px;\n    height: 13px;\n    cursor: pointer;\n    pointer-events: auto;\n}\n._2vTC2wgQckW5KCoiXAr1br {\n    position: absolute;\n    width: 1px;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    top: 21px;\n    height: 10px;\n    background: #3195cb;\n}\n.JobBQiwGqcOI6IQgJAZxP {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    top: 6px;\n}\n\n._2HwFDLuGWzO6CqrKkvkufK {\n    top: 22px;\n    right: 22px;\n}\n\n._2bY6bQQr7zN5JZy7Dptb1E {\n    bottom: 22px;\n    right: 22px;\n}\n\n._1URne1OECr2LNWwkVDV_RI {\n    bottom: 22px;\n    left: 22px;\n}\n\n._17Sum2bPk_4yUpBBPSUqq9 {\n    top: 22px;\n    left: 22px;\n}\n\n._13eq5M1ngWKc96cPdiPj3a {\n    top: 22px;\n    left: calc(50% - 8px);\n}\n\n.eyWKfy-g7yzv2hk2A4h24 {\n    top: calc(50% - 8px);\n    left: 22px;\n}\n\n._22ez5hpRDc1gA9_j3-NvKO {\n    bottom: 22px;\n    left: calc(50% - 8px);\n}\n\n._13oA2Cf__9Bc1PhlwGQSME {\n    right: 22px;\n    top: calc(50% - 8px);\n}\n\n.sjgFRLhVr_2Zy8vYtfcCA {\n    top: calc(50% - 7px);\n    left: 23px;\n}\n\n._1tVw9zDNweqixeFpQYHrf4 {\n    top: calc(50% - 7px);\n    right: 23px;\n}\n\n.RtSgSBxPJBfeI5YGT_Uan {\n    top: -19px;\n    right: -1px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    position: absolute;\n    color: white;\n    white-space: nowrap;\n    padding: 3px;\n    font-size: 12px;\n}\n\n._22wp9SU3dZT-cYmsebJO8- {\n    height: 1px;\n    position: absolute;\n    left: 31px;\n    right: 31px;\n    top: calc(50% - 0.5px);\n    background: #3195cb;\n}\n._22wp9SU3dZT-cYmsebJO8-._1DzeuryGk1uKHxAjW-Fz9K {\n    background: #949496;\n}\n",""]),t.locals={selector:"_3RlZyoFq8cVDAlWG1Sw_kg",border:"_3gXkVFyF4sqO8qbVoF94w3",solid:"zMa-BGuuvfCGiLAYC1fA2",lockedSelected:"_1DK_4PS0XZXN7do-tFhgqQ",resizeHandle:"_1BZIFp5hXUEWExNBdUJ9X0",resizeHandleRectangle:"_2iiUhZ7Y_Q2NSf2LFFRvOP",lineResizeHandle:"_1UP3fhANfTxN0p3PTRxaUv",lineResizeHandleCircle:"_5fp0eO5UuTtwAV5uwaDLE",rotationCircle:"_2ake8U1_bqJaIPc7-jLb-u",rotationLine:"_2vTC2wgQckW5KCoiXAr1br",rotationIcon:"JobBQiwGqcOI6IQgJAZxP",ne:"_2HwFDLuGWzO6CqrKkvkufK",se:"_2bY6bQQr7zN5JZy7Dptb1E",sw:"_1URne1OECr2LNWwkVDV_RI",nw:"_17Sum2bPk_4yUpBBPSUqq9",n:"_13eq5M1ngWKc96cPdiPj3a",w:"eyWKfy-g7yzv2hk2A4h24",s:"_22ez5hpRDc1gA9_j3-NvKO",e:"_13oA2Cf__9Bc1PhlwGQSME",begin:"sjgFRLhVr_2Zy8vYtfcCA",end:"_1tVw9zDNweqixeFpQYHrf4",username:"RtSgSBxPJBfeI5YGT_Uan",lineHover:"_22wp9SU3dZT-cYmsebJO8-",lockedLine:"_1DzeuryGk1uKHxAjW-Fz9K"}},L91u:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return j});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("TSYQ"),p=n.n(s),f=n("/MKj"),d=n("SFB+"),y=n("UYEr"),h=n("9EZc"),b=n("4aXp"),g=n("dGoc"),m=n.n(g),v=n("db09");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e,t,n){return Object(b.default)(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){k(e,t,n[t])})}return e}({},n,{liveData:"disabled"}))},j=Object(f.connect)(function(e){return{loading:e.getIn(["revisions","loading"]),editorState:e.getIn(["revisions","editorState"]),zoom:d.default.getState()}})((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,w(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.loading,o=e.zoom,r=e.userHasAccess;return!n&&t&&o?c.a.createElement("div",{className:p()(m.a.contents,k({},m.a.contentsPaywall,!r))},c.a.createElement(y.InfographicEditor,{editorState:t,renderItemContentsFn:x,blockWrapperComponent:h.default,scaleX:o,scaleY:o,readOnly:!0,blockOverlayComponent:v.default})):null}}])&&E(n.prototype,o),r&&E(n,r),t}(),r.propTypes={loading:u.a.bool.isRequired,userHasAccess:u.a.bool.isRequired,editorState:u.a.object,zoom:u.a.number},o=i))||o},Lobp:function(e,t,n){var o=n("gedv");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},Mzex:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("Jgc/"),a=n("TSYQ"),c=n.n(a),l=n("LvDl"),u=n.n(l),s=n("SFB+"),p=n("lc1c"),f=n("EKef"),d=n("e0gr"),y=n("e322"),h=n("iCiW"),b=n("kwfw"),g=n("U3Rh"),m=n("c4R5"),v=n("hKtE"),_=n("luIk"),E=n("Pwhp"),S=n("Hejo"),w=n("sPuu"),O=n("KZTM"),k=n("RZ7o"),x=n("Z+h/"),j=n("T9bt"),C=n("Q4CN"),P=n("0Qba"),R=n("wZCM"),T=n("/80h"),I=n("/cUP"),D=n("+B5S"),N=n("xZ3h"),A=n("+mTV"),z=n("Ah+H"),L=n("4ncT"),q=n("Lobp"),M=n.n(q),G=n("DszW"),B=n("Ar8A"),K=n("pJn0"),X=n("DvT9"),H=n("xVW7"),Y=n("Sye6");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Q(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e,t,n){return"CHART"===e.getType()?Object(w.default)(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){$(e,t,n[t])})}return e}({},n,{liveData:"once"})):Object(w.default)(e,t,n)},te=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Z(t).call(this,e))||"object"!==F(r)&&"function"!=typeof r?V(o):r)._handleItemChoice=n._handleItemChoice.bind(V(V(n))),n._handleGesture=n._handleGesture.bind(V(V(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,r.a.Component),Q(t,null,[{key:"getStores",value:function(){return[s.default,p.default,d.ActiveTextEditorStore,y.default,f.default,H.default]}},{key:"calculateState",value:function(){var e=d.ActiveTextEditorStore.editing&&!d.ActiveTextEditorStore.transforming,t=H.default.resizing||H.default.dragging,n=Y.default.currentSelection.getEntities().size>1;return{zoom:s.default.getState(),actionLoading:p.default.loading,themeId:f.default.loadedThemeId,textEditingActive:e,preventTextSelection:!!y.default.rectangle||t||n}}}]),Q(t,[{key:"componentDidMount",value:function(){this._offscreenContainer=document.createElement("div"),this._offscreenContainer.className=M.a.offscreen,document.body.appendChild(this._offscreenContainer),this._contentEl.addEventListener("scroll",N.onScroll),Object(N.initFreelayoutScroll)(this._contentEl),document.addEventListener("wheel",this._handleGesture,!0),document.addEventListener("gesturechange",this._handleGesture,!0),document.addEventListener("gesturestart",this._handleGesture,!0),document.addEventListener("paste",this._handlePaste,!0),Object(z.setTooltip)(new L.default({escapeFn:u.a.escape,parentElem:document.body}))}},{key:"componentWillUnmount",value:function(){this._offscreenContainer&&this._offscreenContainer.parentNode.removeChild(this._offscreenContainer),document.removeEventListener("wheel",this._handleGesture,!0),document.removeEventListener("gesturechange",this._handleGesture,!0),document.removeEventListener("gesturestart",this._handleGesture,!0),document.removeEventListener("paste",this._handlePaste,!0),this._contentEl.removeEventListener("scroll",N.onScroll)}},{key:"componentDidUpdate",value:function(e,t){var n=this;t.themeId!==this.state.themeId&&setTimeout(function(){Object(D.default)(n._offscreenContainer,f.default.editorState.getDesign())})}},{key:"render",value:function(){var e=this,t=this.state,n=t.textEditingActive,o=t.preventTextSelection;return r.a.createElement(v.default,null,r.a.createElement("div",{className:c()(M.a.editor,this.state.actionLoading&&M.a.loading,o&&M.a.__selecting,n&&M.a.editingText)},r.a.createElement(m.default,null),r.a.createElement(C.default,null),r.a.createElement("div",{className:c()(M.a.contents),ref:function(t){return e._contentEl=t}},r.a.createElement("div",null,r.a.createElement(S.default,{allowDragAndDrop:!n,onChange:I.updateEditorState,onSelectionChange:X.updateSelectionState,onSelectionBoundBoxChange:X.updateBoundingBox,entityOverlayComponent:x.default,multiSelectionOverlayComponent:b.default,entityBoundingBoxComponent:j.default,blockWrapperComponent:O.default,renderItemContentsFn:ee,scaleX:this.state.zoom,scaleY:this.state.zoom}))),r.a.createElement(_.default,{colorPickerClass:T.default}),r.a.createElement(E.default,null),r.a.createElement(g.default,{ref:"elementMenu",onSelect:this._handleItemChoice,displayShapes:!0,flex:!0},r.a.createElement(k.default,null)),r.a.createElement(h.default,null),r.a.createElement(R.default,{freeLayout:!0}),r.a.createElement(K.default,null)))}},{key:"goToLibrary",value:function(e){e&&e.preventDefault(),window.app.router.navigate("#/library")}},{key:"_handlePaste",value:function(e){Object(B.default)(e.clipboardData.getData("application/json")||e.clipboardData.getData("text/plain"),e)}},{key:"_handleGesture",value:function(e){if("gesturestart"===e.type)e.preventDefault(),this.pinchGestureStartScale=this.state.zoom;else if("gesturechange"===e.type)Object(I.scale)(Math.min(Math.max(this.pinchGestureStartScale*e.scale,.25),10)),e.preventDefault();else if("wheel"===e.type&&e.ctrlKey)e.preventDefault(),e.stopImmediatePropagation(),Object(I.scale)(Math.min(Math.max(this.state.zoom-e.deltaY/100,.25),10));else if("wheel"===e.type&&e.deltaX<0&&Math.abs(e.deltaX)>=Math.abs(e.deltaY)){var t=!1,n=e.target;do{if(t=t||n.scrollLeft>0)break}while(n=n.parentElement);t||e.preventDefault()}}},{key:"_handleItemChoice",value:function(e){var t=e.dropResult,n=e.subtype,o=t,r=e.type,i=f.default.editorState,a=Object(G.getItemOptions)(i,o);switch(a.drop=!!t,r){case"CHART":if("upgrade"===n)return void window.app.router.navigate("//upgrade/charts",{promote:{from:"grouped_combo"}});var c=U(n.chartType||n.split("_").map(function(e){return parseInt(e,10)}),2),l=c[0],u=c[1];Object(I.addChart)({chartId:l,modifier:u,options:a});break;case"MAP":if("upgrade"===n)return void window.app.router.navigate("//upgrade/region_maps",{promote:{from:"region_maps"}});Object(I.addMap)(n,a);break;case"COMPOSITE":var s=Object(A.default)(n.elementType);a.offscreenContainer=this._offscreenContainer,Object(I.addCompositeItem)(s,a);break;case"TEXT":a.offscreenContainer=this._offscreenContainer,Object(I.addText)(n.elementType,a);break;case"SHAPE":Object(I.addShape)(n,a);break;case"IMAGE":var p=JSON.parse(e.subtype),d={subType:"image",url:p.url,id:p.id};Object(I.addImage)(d,a);break;case"ATLAS_IMAGE":if(n.upgrade)return void window.app.router.navigate("//upgrade/icons",{promote:{from:"icons"}});var y={subType:"atlasImage",url:e.subtype.image};Object(I.addImage)(y,a);break;case"ICON":if(n.upgrade)return void window.app.router.navigate("//upgrade/icons",{promote:{from:"icons"}});var h=P.default.shapes["".concat(n.title,"Path")],b={subType:"icon",url:n.url,width:h.dimensions.width,height:h.dimensions.height,path:h.path};Object(I.addImage)(b,a);break;case"MEDIA":var g=JSON.parse(e.subtype),m=g.mediaType,v=g.data;Object(I.addMedia)(m,v,a);break;case"INTEGRATION":a.offscreenContainer=this._offscreenContainer,Object(I.addIntegration)(n,a);break;default:console.log("chosen item",e)}}}]),t}();t.default=i.Container.create(te)},N3rF:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return N});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("TSYQ"),f=n.n(p),d=n("wi6Z"),y=n("dDeV"),h=n("fwYx"),b=n("YraV"),g=n("i5wb"),m=n("GRZN"),v=n("L91u"),_=n("Zcty"),E=n("/cUP"),S=n("DvT9"),w=n("Sye6"),O=n("bZl7"),k=n("R1L0"),x=n("ZBhn"),j=n("dGoc"),C=n.n(j);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=Object(s.connect)(function(e){var t=e.getIn(["revisions","extraData"]);return{selectedIndex:e.getIn(["revisions","selectedIndex"]),editorState:e.getIn(["revisions","editorState"]),extraData:t?t.toJS():{},userHasAccess:O.default.canAccessRevisions}},function(e){return{hideRevisions:function(){e({type:k.REVISIONS_HIDE})}}})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=T(t).call(this,e))||"object"!==P(r)&&"function"!=typeof r?D(o):r).restoreRevision=n.restoreRevision.bind(D(D(n))),n.triggerUpgrade=n.triggerUpgrade.bind(D(D(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"restoreRevision",value:function(){Object(S.updateSelectionState)(w.default.currentSelection.clear()),Object(E.updateEditorState)(this.props.editorState),_.default.dispatch({type:x.RECEIVE_EXTRA_DATA,payload:this.props.extraData}),this.props.hideRevisions()}},{key:"triggerUpgrade",value:function(){var e=this;window.app.router.navigate("//settings/plans"),setTimeout(function(){e.props.hideRevisions()},500)}},{key:"render",value:function(){var e,t,n=this.props,o=n.hideRevisions,r=n.editorState,i=n.selectedIndex,a=n.userHasAccess;return i&&r&&(e=c.a.createElement(b.default,{useButtonTag:!0,className:C.a.toolbarRestoreButton,onClick:this.restoreRevision},i18n.t("app.revisions.restore_version"))),a||(t=c.a.createElement("div",null,c.a.createElement("div",{className:C.a.paywallBackground}),c.a.createElement("div",{className:C.a.paywallContent},c.a.createElement("img",{className:C.a.paywallImage,src:"/i/revisions/paywall_icon.png"}),c.a.createElement("h3",{className:C.a.paywallTitle},i18n.t("popup.upgrade_promo.revisions_title")),c.a.createElement("p",{className:C.a.paywallText,dangerouslySetInnerHTML:{__html:i18n.t("popup.upgrade_promo.revisions_text")}}),c.a.createElement(b.default,{className:f()(C.a.paywallButton,"__blue"),onClick:this.triggerUpgrade},i18n.t("popup.upgrade_promo.revisions_upgrade"))))),c.a.createElement("div",{className:C.a.root},c.a.createElement(y.default,{fixed:!0,className:C.a.toolbar},c.a.createElement(y.ToolbarGroup,null,c.a.createElement(h.default,{onClick:o}),c.a.createElement(m.default,null)),c.a.createElement(y.ToolbarGroup,null,e)),c.a.createElement(d.default,{side:"right"},c.a.createElement("p",{className:C.a.panelTitle},i18n.t("app.revisions.version_history")),c.a.createElement(g.default,null)),c.a.createElement(v.default,{userHasAccess:a}),t)}}])&&R(n.prototype,o),r&&R(n,r),t}(),r.propTypes={hideRevisions:u.a.func.isRequired,selectedIndex:u.a.number.isRequired,editorState:u.a.object,extraData:u.a.object,userHasAccess:u.a.bool.isRequired},o=i))||o},NI0h:function(e,t,n){"use strict";n.r(t);var o=n("N3rF");n.d(t,"default",function(){return o.default})},OVpQ:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),c=n("yb06"),l=n.n(c),u=n("avnT"),s=n("TSYQ"),p=n.n(s),f=n("76fW"),d=n.n(f);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function m(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){return h(this,t),m(this,v(t).apply(this,arguments))}return _(t,o["PureComponent"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.origin,n=e.onClick,o=e.className;return r.a.createElement("div",{onMouseDown:n,"data-origin":t,className:o})}}]),t}();S.propTypes={origin:a.a.string.isRequired,onClick:a.a.func.isRequired,className:a.a.string};var w=function(e){function t(){return h(this,t),m(this,v(t).apply(this,arguments))}return _(t,o["PureComponent"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.crop,n=e.onDrag,o=e.onHandleMove,i={top:"".concat(t.get("top"),"%"),right:"".concat(t.get("right"),"%"),bottom:"".concat(t.get("bottom"),"%"),left:"".concat(t.get("left"),"%")};return r.a.createElement("div",{className:d.a.cropBox,style:i,onMouseDown:n},r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.N,className:p()(d.a.sideHandle,d.a.topHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.E,className:p()(d.a.sideHandle,d.a.rightHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.S,className:p()(d.a.sideHandle,d.a.bottomHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.W,className:p()(d.a.sideHandle,d.a.leftHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.NW,className:p()(d.a.cornerHandle,d.a.topLeftHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.NE,className:p()(d.a.cornerHandle,d.a.topRightHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.SE,className:p()(d.a.cornerHandle,d.a.bottomRightHandle)}),r.a.createElement(S,{onClick:o,origin:u.RESIZE_ORIGIN.SW,className:p()(d.a.cornerHandle,d.a.bottomLeftHandle)}))}}]),t}();w.propTypes={crop:l.a.contains({top:a.a.number,right:a.a.number,bottom:a.a.number,left:a.a.number}).isRequired,onHandleMove:a.a.func,onDrag:a.a.func},t.default=w},PXfb:function(e,t,n){e.exports=n.p+"2wpgnFu1tbOPW42gIoNUeN.svg"},Pwhp:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("5cMK"),a=n.n(i),c=n("Jgc/"),l=n("NPi6"),u=n("Zcty"),s=n("bZl7"),p=n("Hb73"),f=n("BxTu"),d=n("ySsV"),y=n("t4t9"),h=n("EKef"),b=n("yIs3"),g=n("aXXi"),m=n("fS4f"),v=n("3NuN");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=E(t).call(this,e))||"object"!==_(r)&&"function"!=typeof r?k(o):r)._handleShareButtonClick=n._handleShareButtonClick.bind(k(k(n))),n._handleTeamButtonClick=n._handleTeamButtonClick.bind(k(k(n))),n._handleDuplicateClick=n._handleDuplicateClick.bind(k(k(n))),n._handleRenameClick=n._handleRenameClick.bind(k(k(n))),n._handleInfographicDelete=n._handleInfographicDelete.bind(k(k(n))),n._handleAnalyticsClick=n._handleAnalyticsClick.bind(k(k(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r.a.Component),w(t,null,[{key:"getStores",value:function(){return[h.default,d.default,y.default]}},{key:"calculateState",value:function(){return{canUndo:h.default.editorState.getUndoStack().size>0,canRedo:h.default.editorState.getRedoStack().size>0,infographicModel:d.default.model,status:d.default.status,saving:y.default.isSaving}}}]),w(t,[{key:"hasAccessToAnalytics",value:function(){return s.default.getCurrentProfile().isWhiteLabel}},{key:"_handleDuplicateClick",value:function(){b.default.duplicateInfographic(this.state.infographicModel.attributes.block_id)}},{key:"_handleRenameClick",value:function(){u.default.dispatch({type:g.TITLE_EDITOR_START_EDITING})}},{key:"_handleInfographicDelete",value:function(){var e=this.state.infographicModel.get("block_id");l.default.confirmDelete({get button(){return a.a.t("delete")},get description(){return a.a.t("app.library.delete_dialog.trash_description",{count:1})},get title(){return a.a.t("app.library.delete_dialog.trash_title",{count:1})}}).then(function(){b.default.trashInfographics([e]),window.app.router.navigate("#/library")})}},{key:"_handleShareButtonClick",value:function(e){e&&e.preventDefault(),new f.default({model:this.state.infographicModel})}},{key:"_handleTeamButtonClick",value:function(e){e&&e.preventDefault(),new f.default({model:this.state.infographicModel,selectedTab:"team"})}},{key:"_handleAnalyticsClick",value:function(){this.hasAccessToAnalytics()?window.app.router.navigate("#/analytics/project/".concat(this.state.infographicModel.get("block_id"))):window.app.router.navigate("#/analytics")}},{key:"render",value:function(){var e=this.state,t=e.infographicModel,n=e.saving,o=e.canUndo,i=e.canRedo,a=e.status;return r.a.createElement(p.default,{infographicId:t.get("block_id"),title:t.get("title"),status:a,canUndo:o,canRedo:i,isFreeLayout:!0,saving:n,onShareClick:this._handleShareButtonClick,onTeamClick:this._handleTeamButtonClick,onDuplicateClick:this._handleDuplicateClick,onRenameClick:this._handleRenameClick,onDeleteClick:this._handleInfographicDelete,onAnalyticsClick:this._handleAnalyticsClick,onUndo:v.undo,onRedo:v.redo,onPreviewClick:m.enterFullscreen})}}]),t}();t.default=c.Container.create(x)},Q4CN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return G});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("Pp7T"),f=n.n(p),d=n("TJ0u"),y=n("EKef"),h=n("xZ3h"),b=n("aXXi"),g=n("e0gr"),m=n("/cUP"),v=n("XSDi"),_=n("Ar8A"),E=n("vCdm"),S=n("UYEr"),w=n("4VoC"),O=n("fhZ6"),k=n("NPi6"),x=n("Sye6"),j=n("DvT9"),C=n("xVW7"),P=n("kMmm"),R=n("G5AB"),T=n("3NuN"),I=n("KamX");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M=navigator.platform.match("Mac"),G=Object(s.connect)()((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=z(t).call(this,e))||"object"!==D(r)&&"function"!=typeof r?q(o):r).handleKeys=n.handleKeys.bind(q(q(n))),n.wrapper=c.a.createRef(),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeys,!1),document.addEventListener("keyup",this.handleKeys,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeys,!1),document.removeEventListener("keyup",this.handleKeys,!1)}},{key:"handleKeys",value:function(e){var t=e.target,n=e.type;t===document.body&&("keyup"===n?this.handleKeyUp(e):"keydown"===n?this.handleKeyDown(e):f()(!1,"Unknown event type"))}},{key:"handleKeyDown",value:function(e){if(!g.ActiveTextEditorStore.editing&&"input"!==e.target.tagName.toLowerCase()){var t=M?e.metaKey:e.ctrlKey,n=e.metaKey||e.ctrlKey||e.altKey,o=x.default.currentSelection,r=y.default.editorState,i=r.getEntities(o.getEntities()),a=i.every(function(e){return e.getLocked()}),c=x.default.boundingBox;switch(e.keyCode){case O.default.BACKSPACE:case O.default.DELETE:if(n)return;if(i.isEmpty()){if(!o.hasNoBlocks()&&r.getCurrentContent().getBlocks().size>1){var l=o.getBlocks().first(),u=r.getCurrentContent().getBlockIndex(l)+1,s=r.getCurrentContent().getBlocks().size;k.default.confirm({title:i18n.t("app.freelayout_editor.delete_page_dialog_title",{page_number:u}),description:i18n.t("app.freelayout_editor.delete_page_dialog_description"),button:i18n.t("delete")}).then(function(){Object(m.updateEditorState)(Object(S.removeBlocks)(r,l)),u===s&&Object(h.scrollToPage)(u-2)})}}else Object(m.updateEditorState)(S.removeEntities.apply(void 0,[r].concat(N(o.getEntities()))));break;case O.default.DOWN_ARROW:if(t&&!e.altKey)Object(h.scrollToPage)(d.default.activePageIndex+1);else{if(n)return;if(a)return;Object(m.updateEditorState)(r.moveEntitiesBy(o.getEntities(),0,e.shiftKey?10:1)),c=c.set("top",c.get("top")+(e.shiftKey?10:1)),Object(j.updateStaticBoundingBox)(c)}break;case O.default.UP_ARROW:if(t&&!e.altKey&&d.default.activePageIndex>0)Object(h.scrollToPage)(d.default.activePageIndex-1);else{if(n)return;if(a)return;Object(m.updateEditorState)(r.moveEntitiesBy(o.getEntities(),0,e.shiftKey?-10:-1)),c=c.set("top",c.get("top")-(e.shiftKey?10:1)),Object(j.updateStaticBoundingBox)(c)}break;case O.default.LEFT_ARROW:if(i.isEmpty()||n||a)return;Object(m.updateEditorState)(r.moveEntitiesBy(o.getEntities(),e.shiftKey?-10:-1,0)),c=c.set("left",c.get("left")-(e.shiftKey?10:1)),Object(j.updateStaticBoundingBox)(c);break;case O.default.RIGHT_ARROW:if(i.isEmpty()||n||a)return;Object(m.updateEditorState)(r.moveEntitiesBy(o.getEntities(),e.shiftKey?10:1,0)),c=c.set("left",c.get("left")+(e.shiftKey?10:1)),Object(j.updateStaticBoundingBox)(c);break;case O.default.KEY_Z:if(t&&!e.altKey){e.shiftKey?Object(T.redo)():Object(T.undo)();break}return;case O.default.KEY_Y:if(t&&!e.altKey){Object(T.redo)();break}return;case O.default.KEY_C:if(t&&!e.altKey){Object(E.default)();break}if(n)return;Object(w.changeActiveHeader)("chart");break;case O.default.KEY_V:return void(t&&!e.altKey&&window.clipboardData&&Object(_.default)(window.clipboardData.getData("Text"),e));case O.default.KEY_D:if(t){if(!i.isEmpty()){var p=i.first().getBlockKey();Object(v.default)(i,p);break}if(1===o.getBlocks().size){var f=o.getBlocks().first(),R=r.getCurrentContent().getBlockIndex(f);Object(I.default)(f,R+1,{scroll:!0});break}}return;case O.default.KEY_R:if(!i.size||n)return;if(C.default.pointerDown||i.first().locked)break;var D={type:"rotate",key:i.map(function(e){return e.getKey()}).join("-")};Object(P.default)(D,C.default.initialEntityPositions,{x:-1,y:-1});break;case O.default.KEY_I:if(n)return;Object(w.changeActiveHeader)("image");break;case O.default.KEY_G:if(n)return;this.props.dispatch({type:b.FLEX_EDITOR_GRID_TOGGLE_SNAP_OBJECTS});break;case O.default.KEY_L:if(n)return;this.props.dispatch({type:b.FLEX_EDITOR_GRID_TOGGLE_GUIDES});break;case O.default.KEY_T:if(n)return;Object(w.changeActiveHeader)("text");break;case O.default.KEY_S:if(n)return;Object(w.changeActiveHeader)("shape");break;case O.default.KEY_M:if(n)return;Object(w.changeActiveHeader)("map");break;case O.default.KEY_A:if(t){var A,z=d.default.activePageIndex,L=r.getCurrentContent().getBlocks().get(z),q=[];L.getEntities().forEach(function(e){e.locked||q.push(e.getKey())});var G=(A=o.clear()).addEntities.apply(A,q);Object(j.updateSelectionState)(G)}break;case O.default.OPEN_BRACKET:t&&!i.isEmpty()&&Object(m.updateEditorState)(S.sendToBack.apply(void 0,[y.default.editorState].concat(N(o.getEntities()))));break;case O.default.CLOSE_BRACKET:t&&!i.isEmpty()&&Object(m.updateEditorState)(S.bringToFront.apply(void 0,[y.default.editorState].concat(N(o.getEntities()))));break;default:return}e.stopPropagation(),e.preventDefault()}}},{key:"handleKeyUp",value:function(e){switch(e.keyCode){case O.default.KEY_R:Object(R.default)();break;default:return}}},{key:"render",value:function(){return null}}])&&A(n.prototype,o),r&&A(n,r),t}(),r.propTypes={dispatch:u.a.func.isRequired},o=i))||o},Q7VM:function(e,t,n){var o=n("siZP");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},QApq:function(e,t,n){"use strict";n.r(t);var o=n("tl4+");n.d(t,"default",function(){return o.default})},RZ7o:function(e,t,n){"use strict";n.r(t);var o=n("haA1");n.d(t,"default",function(){return o.default})},T9bt:function(e,t,n){"use strict";n.r(t);var o=n("4Zd/");n.d(t,"default",function(){return o.default})},Tadz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return w});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("/MKj"),u=n("17x9"),s=n.n(u),p=n("eqw4"),f=n("ySsV"),d=n("Mzex"),y=n("832M"),h=n("NI0h"),b=n("PFhn"),g=n("aXXi");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Object(l.connect)(function(e){return{shouldShowRevisions:e.getIn(["revisions","shouldShowRevisions"])}},function(e){return{openProject:function(t){e({type:g.FLEX_EDITOR_OPEN_PROJECT,payload:{projectId:t}})},closeProject:function(t){e({type:g.FLEX_EDITOR_CLOSE_PROJECT,payload:{projectId:t}})}}})(o=Object(b.default)()((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,E(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,a["Component"]),n=t,r=[{key:"getStores",value:function(){return[p.default,f.default]}},{key:"calculateState",value:function(){return{shouldPresent:p.default.isFullscreen,projectId:f.default.infographicId}}}],(o=[{key:"componentDidMount",value:function(){this.props.openProject(this.state.projectId)}},{key:"componentWillUnmount",value:function(){this.props.closeProject(this.state.projectId)}},{key:"render",value:function(){return this.state.shouldPresent?c.a.createElement(y.default,null):this.props.shouldShowRevisions?c.a.createElement(h.default,null):c.a.createElement(d.default,null)}}])&&v(n.prototype,o),r&&v(n,r),t}(),r.propTypes={shouldShowRevisions:s.a.bool.isRequired,openProject:s.a.func.isRequired,closeProject:s.a.func.isRequired},o=i))||o)||o},W0Zp:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),c=n("yb06"),l=n.n(c),u=n("Jgc/"),s=n("TSYQ"),p=n.n(s),f=n("vmwM"),d=n("avnT"),y=n("WdyC"),h=n("XjPQ"),b=n("ET+Y"),g=n("fJPJ"),m=n.n(g),v=n("qLhN"),_=n.n(v),E=n("Mp8E");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){O(e,t,n[t])})}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=k(t).call(this,e))||"object"!==S(r)&&"function"!=typeof r?P(o):r)._exitClippingOnEnter=n._exitClippingOnEnter.bind(P(P(n))),n._onResizeStart=n._onResizeStart.bind(P(P(n))),n._onRotateStart=n._onRotateStart.bind(P(P(n))),n._onHandleMove=n._onHandleMove.bind(P(P(n))),n._onHandleStop=n._onHandleStop.bind(P(P(n))),n._onDragStart=n._onDragStart.bind(P(P(n))),n._onDrag=n._onDrag.bind(P(P(n))),n._onDragStop=n._onDragStop.bind(P(P(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(t,r.a.Component),j(t,null,[{key:"getStores",value:function(){return[f.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=t.scaleX,r=t.scaleY,i=f.default.currentImageClip,a=i.get("boundingBox"),c={left:a.get("left")*n.getWidth()*o,top:a.get("top")*n.getHeight()*r,width:a.get("width")*n.getWidth()*o,height:a.get("height")*n.getHeight()*r};return{mask:i,maskDimensions:c,selectorDimensions:{left:c.left-30,top:c.top-30,width:c.width+60,height:c.height+60},entityDimensions:{width:n.getWidth()*o,height:n.getHeight()*r},transformOriginOffset:f.default.transformOriginOffset,isRotating:f.default.ongoingClipTransform.get("action")===b.ROTATE}}}]),j(t,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this._exitClippingOnEnter)}},{key:"componentWillUnmount",value:function(){var e=this.props.entity,t=this.state,n=t.mask,o=t.transformOriginOffset;setTimeout(function(){Object(y.saveMask)(n,o,e.getKey(),{pushToUndoStack:!0})}),document.removeEventListener("keypress",this._exitClippingOnEnter)}},{key:"_exitClippingOnEnter",value:function(e){"Enter"===e.key&&Object(y.exitClippingMode)()}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,o=n.scaleX,r=n.scaleY;Object(y.startClipResize)({startPoint:Object(h.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:o,scaleY:r}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onRotateStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(y.startClipRotate)({startPoint:Object(h.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onHandleMove",value:function(e){e.stopPropagation(),Object(y.transformImageMask)(Object(h.Point)(e.clientX,e.clientY))}},{key:"_onHandleStop",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,o=t.scaleY;Object(y.startClipMove)({startPoint:Object(h.Point)(e.clientX,e.clientY),scaleX:n,scaleY:o}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(y.moveImageMask)(Object(h.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e=this.props.entity,t=this.state,o=t.mask,i=t.maskDimensions,a=t.selectorDimensions,c=t.entityDimensions,l=t.isRotating,u=w({transform:"rotate(".concat(o.get("rotate"),"deg)")},i),s=w({transform:"rotate(".concat(o.get("rotate"),"deg)")},a),f=e.getProperty("url").replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"),y={className:m.a.mask,style:u};return r.a.createElement("div",{className:m.a.container},r.a.createElement("img",{className:m.a.background,src:f}),r.a.createElement(E.default,{id:e.getKey(),clip:o,type:"mask",src:f,width:c.width,height:c.height,maskProps:y,editing:!0}),r.a.createElement("div",{className:m.a.selector,style:s,onMouseDown:this._onDragStart},l&&r.a.createElement("img",{className:_.a.rotationIcon,src:n("PXfb")}),!l&&r.a.createElement("div",{onMouseDown:this._onRotateStart,className:_.a.rotationCircle}),!l&&r.a.createElement("div",{className:_.a.rotationLine}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.NW,className:p()(m.a.resizeHandle,_.a.nw)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.NE,className:p()(m.a.resizeHandle,_.a.ne)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.SE,className:p()(m.a.resizeHandle,_.a.se)}),r.a.createElement("div",{onMouseDown:this._onResizeStart,"data-origin":d.RESIZE_ORIGIN.SW,className:p()(m.a.resizeHandle,_.a.sw)})))}}]),t}();R.propTypes={entity:l.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},t.default=u.Container.create(R,{withProps:!0})},"Z+h/":function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),c=n("yb06"),l=n.n(c),u=n("TSYQ"),s=n.n(u),p=n("Jgc/"),f=n("vmwM"),d=n("Tha3"),y=n("hl5+"),h=n("xVW7"),b=n("/QJz"),g=n("W0Zp"),m=n("z3Ib"),v=n("qLhN"),_=n.n(v);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function w(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,O(t).apply(this,arguments))}var o,r,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,i["Component"]),o=t,c=[{key:"getStores",value:function(){return[f.default,h.default]}},{key:"calculateState",value:function(e,t){var n=h.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.entity.getKey(),isResizing:h.default.resizing,isDragging:h.default.dragging,clipping:f.default.activeEntityKey===t.entity.getKey()?f.default.activeType:null,lineMode:t.entity.isLine()}}}],(r=[{key:"render",value:function(){var e=this.props,t=e.handlers,o=e.hovered,r=e.selected,i=e.multiSelectionActive,c=e.entity,l=this.state,u=l.isRotating,p=l.isResizing,f=l.isDragging,h=l.clipping,v=l.lineMode,E=u||p||f,S=c.getTransform().getRotate(),w=c.getProperty("crop"),O=c.getProperty("mask"),k=c.locked,x=h?c:Object(d.calculateClippedRectangle)(c),j={transform:"rotate(".concat(S||0,"deg)"),top:x.top*this.props.scaleY,left:x.left*this.props.scaleX,width:x.width*this.props.scaleX,height:x.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:f?.5:1};if(h&&w){var C=w.get("left")+(100-w.get("left")-w.get("right"))/2,P=w.get("top")+(100-w.get("top")-w.get("bottom"))/2;j.transformOrigin="".concat(C,"% ").concat(P,"%")}else if(h&&O){var R=100*O.get("center").get("left"),T=100*O.get("center").get("top");j.transformOrigin="".concat(R,"% ").concat(T,"%")}var I={},D=0;O&&!h?(D=O.get("rotate"),I.transform="rotate(".concat(D,"deg)")):h&&(I.display="none");var N,A=S+D;h===y.IMAGE_CROP?N=a.a.createElement(b.default,{entity:c,scaleX:this.props.scaleX,scaleY:this.props.scaleY}):h===y.IMAGE_MASK&&(N=a.a.createElement(g.default,{entity:c,scaleX:this.props.scaleX,scaleY:this.props.scaleY}));var z=s()(_.a.border,!k&&(r||!E&&o)&&_.a.solid,k&&(r||!E&&o)&&_.a.lockedSelected);return a.a.createElement("div",{style:j},N,a.a.createElement("div",{className:s()(_.a.selector),style:I},a.a.createElement("div",{className:v?null:z,ref:t.select}),v&&(o&&!r&&!E||r&&k)&&a.a.createElement("div",{className:s()(_.a.lineHover,k&&_.a.lockedLine)}),r&&!k&&!i&&a.a.createElement("div",null,u&&!v&&a.a.createElement("img",{className:_.a.rotationIcon,src:n("PXfb")}),!u&&!f&&a.a.createElement("div",null,!p&&!v&&a.a.createElement("div",{ref:t.rotate,className:_.a.rotationCircle}),!p&&!v&&a.a.createElement("div",{className:_.a.rotationLine}),a.a.createElement(m.default,{width:j.width,height:j.height,handlers:t,rotation:A,resizing:p,lineMode:v})))))}}])&&S(o.prototype,r),c&&S(o,c),t}();x.propTypes={entity:l.a.record.isRequired,scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,hovered:r.a.bool.isRequired,selected:r.a.bool.isRequired,handlers:r.a.object.isRequired,multiSelectionActive:r.a.bool,isClipping:r.a.bool},t.default=p.Container.create(x,{withProps:!0})},ZGOS:function(e,t,n){var o=n("rRPG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},aojp:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h});var o=n("q1tI"),r=n.n(o),i=n("lfOy"),a=n("LyB2"),c=n("ywRP"),l=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,d(t).apply(this,arguments))}var n,c,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o["PureComponent"]),n=t,(c=[{key:"render",value:function(){return r.a.createElement("div",{onDoubleClick:a.openDataTable,className:l.a.editableWrapper},r.a.createElement(i.default,s({},this.props,{editable:!0})))}}])&&p(n.prototype,c),u&&p(n,u),t}()},dDeV:function(e,t,n){"use strict";n.r(t);var o=n("veRS"),r=n("Ylx7");n.d(t,"ToolbarGroup",function(){return r.default}),t.default=o.default},dGoc:function(e,t,n){var o=n("r5Ws");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},fJPJ:function(e,t,n){var o=n("D4ZG");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},gedv:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._2wzVtc1FcZh6DDCCzea2c6 {\n    text-align: center;\n    overflow: hidden;\n}\n\n/* TODO there MUST be a better way how to achieve this without the universal selector */\n._3v-BsD2pN9CsE3xY-vj_Vy * {\n    cursor: wait !important\n}\n\n.v99UC32i4ajEDHfh6XQ6Q {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    text-rendering: optimizeLegibility !important;\n}\n\n.__warning_visible .v99UC32i4ajEDHfh6XQ6Q {\n    top: 110px;\n}\n\n._1Y0uvPdIQprCfvVV3WO1_8,\n._1Y0uvPdIQprCfvVV3WO1_8 * {\n    -ms-user-select: none !important;\n    -moz-user-select: none !important;\n    -webkit-user-select: none !important;\n    user-select: none !important;\n}\n\n._1v6vksjPnkQrtsD1oka10a {\n    position: absolute;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n}\n\n._1v6vksjPnkQrtsD1oka10a [data-text="true"] {\n    font-family: inherit;\n    font-weight: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n}\n\n.Rqt9DC7oMrkIjO_leRcHZ .InfographicEditor-Contents-Block {\n    overflow: visible !important;\n}\n',""]),t.locals={editor:"_2wzVtc1FcZh6DDCCzea2c6",loading:"_3v-BsD2pN9CsE3xY-vj_Vy",contents:"v99UC32i4ajEDHfh6XQ6Q",__selecting:"_1Y0uvPdIQprCfvVV3WO1_8",offscreen:"_1v6vksjPnkQrtsD1oka10a",editingText:"Rqt9DC7oMrkIjO_leRcHZ"}},h0S4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._14fds1zp4Ma7oI4rEDnhGT {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._3itQaNaHTNFtipKsYYg7oG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._1aOeiiOt3WygNFqvfCmBGX {\n    top: -24px;\n    right: -1px;\n    border-radius: 4px;\n    position: absolute;\n    color: white;\n    padding: 3px;\n    font-size: 12px;\n}\n",""]),t.locals={container:"_14fds1zp4Ma7oI4rEDnhGT",border:"_3itQaNaHTNFtipKsYYg7oG",username:"_1aOeiiOt3WygNFqvfCmBGX"}},haA1:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("Jgc/"),a=n("TSYQ"),c=n.n(a),l=n("SFB+"),u=n("/cUP"),s=n("QApq"),p=n("ttbh"),f=n.n(p);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(i=h(t).call(this,e))||"object"!==d(i)&&"function"!=typeof i?v(o):i).state={showLayoupPopup:!1},n._toggleLayoutPopup=n._toggleLayoutPopup.bind(v(v(n))),n._closeLayoutPopupIfNeeded=n._closeLayoutPopupIfNeeded.bind(v(v(n))),n.layoutPopupElement=r.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,o["Component"]),g(t,null,[{key:"getStores",value:function(){return[l.default]}},{key:"calculateState",value:function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){y(e,t,n[t])})}return e}({},e,{zoomPercent:Math.round(100*l.default.getState())+"%",zoom:l.default.getState()})}}]),g(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this._closeLayoutPopupIfNeeded)}},{key:"_zoomIn",value:function(){Object(u.zoom)(1)}},{key:"_zoomOut",value:function(){Object(u.zoom)(-1)}},{key:"_zoomReset",value:function(){Object(u.scale)(1)}},{key:"_closeLayoutPopupIfNeeded",value:function(e){this.layoutPopupElement.current&&!this.layoutPopupElement.current.contains(e.target)&&this.setState({showLayoupPopup:!1})}},{key:"_toggleLayoutPopup",value:function(){this.setState({showLayoupPopup:!this.state.showLayoupPopup})}},{key:"componentDidUpdate",value:function(){this.state.showLayoupPopup?document.addEventListener("click",this._closeLayoutPopupIfNeeded):document.removeEventListener("click",this._closeLayoutPopupIfNeeded)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:f.a.separator}),r.a.createElement("div",{className:c()(f.a.layoutButtonContainer,this.state.showLayoupPopup&&f.a.layoutButtonContainerActive)},this.state.showLayoupPopup&&r.a.createElement("div",{className:f.a.layoutPopup,ref:this.layoutPopupElement},r.a.createElement(s.default,null)),r.a.createElement("div",{className:f.a.layoutButton,onClick:this._toggleLayoutPopup,"data-tooltip":i18n.t("app.freelayout_editor.layout.buttonTooltip"),"data-tooltip-position":"right"},r.a.createElement("img",{src:n("GnhQ")}),r.a.createElement("div",{className:f.a.buttonTitle},i18n.t("app.freelayout_editor.layout.buttonTitle")))),r.a.createElement("div",{className:f.a.separator}),r.a.createElement("a",{className:c()(f.a.zoomButton,"icon-plus"),onClick:this._zoomIn,title:i18n.t("app.freelayout_editor.zoom_in")}),r.a.createElement("div",{className:f.a.zoomValue,onDoubleClick:this._zoomReset},this.state.zoomPercent),r.a.createElement("a",{className:c()(f.a.zoomButton,"icon-minus"),onClick:this._zoomOut,title:i18n.t("app.freelayout_editor.zoom_out")}))}}]),t}();t.default=i.Container.create(_)},i5wb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("wd/R"),f=n.n(p),d=n("TSYQ"),y=n.n(d),h=n("FJ6f"),b=n("MZes"),g=n("rMMX"),m=n("KJEt"),v=n.n(m),_=n("R1L0");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function k(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?P(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var R=Object(s.connect)(function(e){return{loading:e.getIn(["revisions","loading"]),revisions:e.getIn(["revisions","revisions"]).filter(function(e){return!e.get("hidden")}),selectedIndex:e.getIn(["revisions","selectedIndex"])}},function(e){return{previewRevision:function(t){e({type:_.REVISION_PREVIEW,revisionIndex:t})}}})((i=r=function(e){function t(){return S(this,t),k(this,x(t).apply(this,arguments))}return j(t,a["PureComponent"]),O(t,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.revisions,o=e.selectedIndex,r=e.previewRevision;return t?c.a.createElement(h.default,{className:v.a.loading}):c.a.createElement(b.default,{height:"100%"},c.a.createElement("ul",{className:v.a.list},n.map(function(e,t){return c.a.createElement(T,{key:t,idx:t,revision:e,selected:o===t,previewFunc:r})})))}}]),t}(),r.propTypes={previewRevision:u.a.func.isRequired,loading:u.a.bool.isRequired,revisions:u.a.any.isRequired,selectedIndex:u.a.number.isRequired},o=i))||o,T=function(e){function t(e){var n;return S(this,t),(n=k(this,x(t).call(this,e))).previewRevision=n.previewRevision.bind(P(P(n))),n}return j(t,a["PureComponent"]),O(t,[{key:"previewRevision",value:function(){this.props.previewFunc(this.props.idx)}},{key:"render",value:function(){var e,t,n,o,r=this.props,i=r.idx,a=r.revision,l=r.selected,u=a.get("createdAt"),s=a.get("userName"),p=a.get("userAvatar");return e=0===i?i18n.t("app.revisions.current_version"):f.a.unix(u).format("YYYY-MM-DD, H:mm"),c.a.createElement("li",{className:y()(v.a.item,(t={},n=v.a.selected,o=l,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),onClick:this.previewRevision},c.a.createElement("div",null,c.a.createElement("div",null,e),c.a.createElement("div",{className:v.a.author},c.a.createElement(g.default,{avatarClass:v.a.avatar,avatarImage:p,fullName:s}),c.a.createElement("div",{className:v.a.name},s))))}}]),t}();T.propTypes={idx:u.a.number.isRequired,revision:u.a.object.isRequired,selected:u.a.bool.isRequired,previewFunc:u.a.func.isRequired}},kwfw:function(e,t,n){"use strict";n.r(t);var o=n("17x9"),r=n.n(o),i=n("q1tI"),a=n.n(i),c=n("TSYQ"),l=n.n(c),u=n("Jgc/"),s=n("Sye6"),p=n("xVW7"),f=n("z3Ib"),d=n("ZgL/"),y=n("qLhN"),h=n.n(y),b=n("PXfb"),g=n.n(b);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=_(this,E(t).call(this,e)))._refs={},n._handlers={rotate:n._assignHandler("rotate"),resize:n._assignHandler("resize")},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,i["Component"]),n=t,r=[{key:"getStores",value:function(){return[s.default,p.default]}},{key:"calculateState",value:function(e,t){var n=p.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.handlerKey,isResizing:p.default.resizing,isDragging:p.default.dragging,boundingBox:s.default.boundingBox}}}],(o=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?d.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&d.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){var e=this.state,t=e.isRotating,n=e.isResizing,o=e.isDragging,r=e.boundingBox,i={transform:"rotate(".concat(r.rotation||0,"deg)"),top:r.top*this.props.scaleY,left:r.left*this.props.scaleX,width:r.width*this.props.scaleX,height:r.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:o?.5:1};return a.a.createElement("div",{style:i},a.a.createElement("div",{className:l()(h.a.selector)},a.a.createElement("div",{className:l()(h.a.border,h.a.solid)}),t&&a.a.createElement("img",{className:h.a.rotationIcon,src:g.a}),!t&&!o&&a.a.createElement("div",null,!n&&a.a.createElement("div",{ref:this._handlers.rotate,className:h.a.rotationCircle}),!n&&a.a.createElement("div",{className:h.a.rotationLine}),a.a.createElement(f.default,{width:i.width,height:i.height,handlers:this._handlers,rotation:r.rotation,resizing:n,lineMode:!1}))))}}])&&v(n.prototype,o),r&&v(n,r),t}();w.propTypes={scaleX:r.a.number.isRequired,scaleY:r.a.number.isRequired,handlerKey:r.a.string.isRequired},t.default=u.Container.create(w,{withProps:!0})},lc1c:function(e,t,n){"use strict";n.r(t);var o=n("Zcty"),r=n("Jgc/"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["ReduceStore"]),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_ACTION_LOADING:return t.value}return e}},{key:"loading",get:function(){return this.getState()}}])&&c(n.prototype,o),a&&c(n,a),t}())(o.default);t.default=p},o4AA:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2TUXqZRrltXb70mjRIDpei {\n    width: 100%;\n    height: 100%;\n}\n",""]),t.locals={editableWrapper:"_2TUXqZRrltXb70mjRIDpei"}},pWtM:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return D});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("TSYQ"),f=n.n(p),d=n("6jm/"),y=n("DvT9"),h=n("KEPE"),b=n("7fFl"),g=n("LoZg"),m=n("EKef"),v=n("38c5"),_=n("Sye6"),E=n("HhMr"),S=n("YraV"),w=n("PFhn"),O=n("RzNS"),k=n.n(O),x=n("CYb3");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=Object(s.connect)(function(e){return Object(x.getFooterSettings)(e.get("footerSettings"))})(o=Object(w.default)({withProps:!0})((i=r=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=R(this,(e=T(t)).call.apply(e,[this].concat(r)))).renderBlock=function(e){switch(n.state.layout[e]){case"logo":return n.renderLogo();case"text":return n.renderText()}return null},n.onClick=function(){if(n.state.showUpgradeLink)return window.app.router.navigate("//upgrade/embed_button",{promote:{from:"embed_button"}});n.makeFooterSelection(),Object(h.changeFreeLayoutSettingsTab)(1)},n.makeFooterSelection=function(){var e=_.default.currentSelection.clear();Object(y.updateSelectionState)(e),Object(b.selectFooter)()},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,a["Component"]),n=t,r=[{key:"getStores",value:function(){return[v.default]}},{key:"calculateState",value:function(e,t){var n=m.default.editorState,o=m.default.isWhiteLabel;if(!t.showFooter&&o)return{disabled:!0};var r=n&&n.getDesign()||{},i=Object(g.default)(r,null,t.backgroundColor),a=Object(g.default)(r,null,t.textColor).value,c={},l=t.scaleY;t.bold&&(c.fontWeight=700),t.italic&&(c.fontStyle="italic"),t.fontSize&&(c.fontSize=t.fontSize),a&&(c.color=a);var u={background:Object(g.default)(r,null,t.buttonBackgroundColor).value,color:Object(g.default)(r,null,t.buttonTextColor).value,marginTop:19},s={width:t.width-60*l,height:60*l,marginTop:-60*l,padding:"0 ".concat(60*l/2,"px")};if(i&&i.value){var p=Object(d.color)(i.value);p.opacity=t.backgroundOpacity,s.background=p}var f="custom_logo-none"===t.logoType?"text":"logo",y=t.footnoteText;return"autoPagination"===t.footnoteType&&(y=function(e,t,n,o){var r=e+n-1;switch(o){case"x":return r;case"x / y":return"".concat(r," / ").concat(t);case"x ... y":return"".concat(r," ... ").concat(t)}}(t.pageNumber,t.pageCount,t.paginationStartWith,t.paginationFormat)),{buttonStyle:u,containerStyle:s,disabled:!1,layout:Object(x.getFooterLayout)(t.footerLayout,f),selected:v.default.selected,showUpgradeLink:!o,text:y,textStyle:c,blockStyle:{transform:"scale(".concat(l,")")}}}}],(o=[{key:"render",value:function(){var e;if(this.state.disabled)return null;var t=this.state,n=t.containerStyle,o=t.showUpgradeLink,r=t.selected,i=c.a.createElement(S.default,{blue:!0,className:f()("button",k.a.button),small:!0},i18n.t("app.infographic.edit_footer"));return o&&(i=c.a.createElement(S.default,{green:!0,className:f()("button",k.a.button),small:!0},i18n.t("app.infographic.upgrade_to_customize"))),c.a.createElement("div",{className:f()(k.a.container,k.a.selectable,(e={},C(e,k.a.selected,r),C(e,k.a.upgradable,o),e)),onClick:this.onClick,style:n},c.a.createElement("div",{style:this.state.blockStyle,className:k.a.left},this.renderBlock("left")),c.a.createElement("div",{style:this.state.blockStyle,className:k.a.center},this.renderBlock("center")),c.a.createElement("div",{style:this.state.blockStyle,className:k.a.right},this.renderBlock("right")),i)}},{key:"renderLogo",value:function(){var e=this.props,t=e.logoType,n=e.logoImage;return"custom_logo-infogram"===t||"custom_logo-custom"===t?c.a.createElement("div",{className:k.a.logo},c.a.createElement(E.default,{background:this.props.logoColor,text:!n&&i18n.t("app.infographic.made_with")||"",url:n,link:this.props.logoLink})):null}},{key:"renderText",value:function(){var e=this.state,t=e.textStyle,n=e.buttonStyle,o=e.text;switch(this.props.footnoteType){case"shareButton":return c.a.createElement("div",{style:n,className:f()("ig-share-button","fullWidth"),onClick:this._showShareButton},this.props.buttonText);case"text":return this.props.customLink?c.a.createElement("a",{style:t,href:this.props.customLink,target:"_blank",rel:"nofollow noopener noreferrer"},o):c.a.createElement("div",{style:t},o);case"autoPagination":return c.a.createElement("div",{style:t},o)}}}])&&P(n.prototype,o),r&&P(n,r),t}(),r.propTypes={backgroundColor:u.a.string,backgroundOpacity:u.a.number,bold:u.a.bool,buttonBackgroundColor:u.a.string,buttonText:u.a.string,buttonTextColor:u.a.string,customLink:u.a.string,flex:u.a.bool,fontSize:u.a.number,footerLayout:u.a.string,footnoteText:u.a.string,footnoteType:u.a.string,italic:u.a.bool,logoColor:u.a.string,logoType:u.a.string,logoImage:u.a.string,logoLink:u.a.string,pageNumber:u.a.number,pageCount:u.a.number,paginationFormat:u.a.string,paginationStartWith:u.a.number,showFooter:u.a.bool,textColor:u.a.string},o=i))||o)||o},qLhN:function(e,t,n){var o=n("L7g7");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},r5Ws:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1UMgMs7pUu-DWwYcmyw3gc {\n    background-color: #2d2d2d;\n    vertical-align: middle;\n    line-height: 45px;\n    padding-left: 17px;\n    margin: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo {\n    vertical-align: middle;\n    height: 40px;\n    font-size: 14px;\n    background-color: #c13134;\n    min-width: 190px;\n    padding: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo:hover {\n    background-color: #dc5356;\n}\n\n.hJCgOEHrukZTvIl1NGGl1 {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    overflow-y: scroll;\n}\n\n.tz_48AX23UoEPMqG-1u_I {\n    overflow: initial;\n}\n\n._3mZK7nVc7dRO3ApTCfCeZI {\n    cursor: default;\n    font-size: 11px;\n    font-weight: 500;\n    color: #656565;\n    height: 23px;\n}\n\n.PQvtrNdK3kN1-d9ogcbX9 {\n    margin-bottom: 50px;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    background: linear-gradient(135.16deg, #419BAD 0%, #582E8D 100%);\n    height: 100%;\n    width: 100%;\n    opacity: 0.95;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH:after {\n    content: '';\n    background: url(/i/teams/waves.png) no-repeat 100% 100%;\n    background-size: contain;\n    position: absolute;\n    width: 100%;\n    height: 205px;\n    max-width: 1600px;\n    bottom: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n}\n\n._3KYBwlRncafgN6BSCEtfd8 {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 50px;\n}\n\n._36oLJBhM_gHNfjyLkE56sf {\n    width: 120px;\n}\n\n._3OOi6chTgLbxlN8YkZcbZ8 {\n    font-size: 37px;\n    margin: 24px 0 22px;\n    font-weight: 300;\n}\n\n._2DIKg1u6-uuKt1LiTloVQb {\n    line-height: 22px;\n    font-size: 15px;\n    font-weight: 500;\n}\n\n._2ArLGUIEAqw30-EVTK7uY- {\n    display: inline-block;\n    height: 50px;\n    width: 280px;\n    line-height: 48px;\n    border-radius: 4px;\n    margin: 28px 0;\n    font-size: 17px;\n}\n",""]),t.locals={panelTitle:"_1UMgMs7pUu-DWwYcmyw3gc",toolbarRestoreButton:"rZlw9sQEa3FGwXfDi7Cpo",contents:"hJCgOEHrukZTvIl1NGGl1",contentsPaywall:"tz_48AX23UoEPMqG-1u_I",pageIndicatorText:"_3mZK7nVc7dRO3ApTCfCeZI",blockContainer:"PQvtrNdK3kN1-d9ogcbX9",paywallBackground:"_1WqTbSEH1c4DRuh5SWI3lH",paywallContent:"_3KYBwlRncafgN6BSCEtfd8",paywallImage:"_36oLJBhM_gHNfjyLkE56sf",paywallTitle:"_3OOi6chTgLbxlN8YkZcbZ8",paywallText:"_2DIKg1u6-uuKt1LiTloVQb",paywallButton:"_2ArLGUIEAqw30-EVTK7uY-"}},rRPG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._4dlW5NPA5B4XBQ6CsoxMI {\n    font-size: 15px;\n    font-weight: 500;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 25px;\n}\n\n._31bPTCHKYRvGLxztuyvCL- {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._1cGeIkQFWJwmcvwwiJ7_5j {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px;\n}\n\n._3agSnovTsqf6vhTz5FsdiO {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n}\n\n._1mpctopZvYgtBUZbwJDKND {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._3UdC45V_jOWnMS_tFe5I7U {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 20px;\n    width: 35px;\n    height: 35px;\n    line-height: 37px;\n    background-size: cover;\n    border-radius: 100%;\n}\n\n._2JYlnyvEcYU7S196gRlJLh {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n    color: #9d9d9d;\n}\n",""]),t.locals={title:"_4dlW5NPA5B4XBQ6CsoxMI",icon:"_31bPTCHKYRvGLxztuyvCL-",label:"_1cGeIkQFWJwmcvwwiJ7_5j",version:"_3agSnovTsqf6vhTz5FsdiO",date:"_1mpctopZvYgtBUZbwJDKND",avatar:"_3UdC45V_jOWnMS_tFe5I7U",name:"_2JYlnyvEcYU7S196gRlJLh"}},sPB4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2yY2Nu8LBDGVxm7uV_QoGq {\n    height: 2px;\n    background-color: #2d2d2d;\n    width: 100%;\n    margin: 0px;\n}\n\n._1mS1Qz-8pLZNWGEyIfWk0O:hover {\n    text-decoration: none;\n    color: #646464;\n}\n\n._2kePqsrwtnaJuYbI-Zaifu  .switch-label{\n    max-width: 40px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n\n._1mS1Qz-8pLZNWGEyIfWk0O {\n    cursor: pointer;\n    color: #fff;\n    font-size: 10px;\n    padding: 13px;\n    display: block;\n}\n\n._1sFjITnFfctry9_5LInmf- {\n    cursor: default;\n    user-select: none;\n    font-size: 12px;\n    font-weight: 500;\n}\n\n._246ak-G-88bIkUbKBgSKm3 {\n    position: relative;\n    width: 48px;\n    height: 48px;\n    cursor: pointer;\n    background-color: #656565;\n}\n\n._246ak-G-88bIkUbKBgSKm3:hover, ._1LmaiemnzC4cx0cdBwFlLz {\n    background-color: #7d7d7d;\n}\n\n._3NzyoCjw3hBRZQRAq-1WSu {\n    width: 100%;\n    height: 100%;\n    padding-top: 10px;\n}\n\n.QSp4G7aK1jRxQyq4owQq5 {\n    position: absolute;\n    left: 100%;\n    bottom: -64px;\n    margin-left: 5px;\n    line-height: initial;\n}\n\n._7CxOo1oMbi_9PCFUiwvDM {\n    font-size: 9px;\n    padding-top: 5px;\n}\n",""]),t.locals={separator:"_2yY2Nu8LBDGVxm7uV_QoGq",zoomButton:"_1mS1Qz-8pLZNWGEyIfWk0O",snapToGrid:"_2kePqsrwtnaJuYbI-Zaifu",zoomValue:"_1sFjITnFfctry9_5LInmf-",layoutButtonContainer:"_246ak-G-88bIkUbKBgSKm3",layoutButtonContainerActive:"_1LmaiemnzC4cx0cdBwFlLz",layoutButton:"_3NzyoCjw3hBRZQRAq-1WSu",layoutPopup:"QSp4G7aK1jRxQyq4owQq5",buttonTitle:"_7CxOo1oMbi_9PCFUiwvDM"}},sPuu:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return ee});var o,r,i=n("17x9"),a=n.n(i),c=n("q1tI"),l=n.n(c),u=n("f+XQ"),s=n.n(u),p=n("Jgc/"),f=n("Pp7T"),d=n.n(f),y=n("bZl7"),h=n("9aBx"),b=n("Huhh"),g=n("qh0O"),m=n("JPcv"),v=n("e0gr"),_=n("v83y"),E=n("EKef"),S=n("Sye6"),w=n("UYEr"),O=n("XSDi"),k=n("Ar8A"),x=n("vCdm"),j=n("/cUP"),C=n("SXCJ"),P=n("PLtq"),R=n("nddH");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var G=navigator.platform.match("Mac"),B=p.Container.create((r=o=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=A(t).call(this,e))||"object"!==T(r)&&"function"!=typeof r?M(o):r)._startEditingWithSelection=n._startEditingWithSelection.bind(M(M(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,c["Component"]),L(t,null,[{key:"getStores",value:function(){return[v.ActiveTextEditorStore,E.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,o=t.contentWidth,r=n.getKey(),i=v.ActiveTextEditorStore.isEntityFocused(r),a=v.ActiveTextEditorStore.isEditingEntity(r),c=v.ActiveTextEditorStore.template,l={editing:a,currentId:v.ActiveTextEditorStore.currentId,template:c,editorState:null};if(!i&&!a){var u=t.entity;d()("TEXT"===u.type,"Entity must be of type TEXT, got "+u.type);var s=u.getProperty("content");e&&e.editorState&&Object(m.is)(s,e.currentContent)?e.editorState&&(l.editorState=e.editorState):(l.editorState=Object(v.createEditableEditorState)(Object(_.convertFromRaw)(s.toJS())),l.currentContent=s),l.template=u.getProperty("template")}if(l.autoSize=!0,l.editorMaxWidth=o,n.getProperty("customSizing"))l.autoSize=!1;else{var p=E.default.editorState.getPageSize().width;l.editorMaxWidth=p}return l}}]),L(t,[{key:"render",value:function(){var e,t=this,n=this.state,o=n.editorState,r=n.template,i=n.editorMaxWidth,a=n.autoSize,c=n.editing;e=o?Object(v.renderReadOnly)(o,r,this.props.design,i):l.a.createElement(v.default,{entityKey:this.props.entity.getKey(),design:this.props.design,maxWidth:i,autoSize:a});var u={};return c&&(u.cursor="text"),l.a.createElement("div",{onDoubleClick:this._startEditingWithSelection,ref:function(e){t._rootElement=e},style:u},e)}},{key:"_startEditingWithSelection",value:function(){if(!this.props.entity.locked&&!this.state.editing){for(var e,t,n,o,r=window.getSelection(),i=r.anchorNode,a=r.anchorOffset,c=r.focusNode,l=r.focusOffset,u=i;u;){if(1==u.nodeType&&u.hasAttribute("data-block")){t=u.getAttribute("data-offset-key").split("-")[0],u.classList.contains(v.textStyling.listItem)&&(u=u.querySelector("."+v.textStyling.listItemContents)),d()(!!u,"Cannot find node"),e=u;break}u=u.parentNode}if(e){var s=window.getSelection();s.removeAllRanges();var p=document.createRange();p.selectNode(e),s.addRange(p);var f=s.toString();s.removeAllRanges(),p.setEnd(i,a),s.addRange(p);var y=s.toString();s.removeAllRanges(),(p=document.createRange()).selectNode(e),p.setStart(c,l),s.addRange(p);var h=s.toString();s.removeAllRanges(),n=y.length,o=f.length-n-h.length}Object(v.beginEditing)(t,n,o,this.props.design)}}}]),t}(),o.propTypes={entity:a.a.shape({getKey:a.a.func.isRequired,getLeft:a.a.func.isRequired,getWidth:a.a.func.isRequired,getType:a.a.func.isRequired,getProperty:a.a.func.isRequired,locked:a.a.bool}).isRequired,design:a.a.any.isRequired,contentWidth:a.a.number.isRequired},r),{withProps:!0}),K=Object(h.createTextComponent)(function(e,t,n){return l.a.createElement(B,{entity:e,design:t,contentWidth:n})}),X=function(e,t,n){var o=e.getType(),r=Object(b.default)(o);switch(o){case"TEXT":return l.a.createElement(K,N({entity:e,design:t},n));default:return l.a.createElement(r,N({entity:e,design:t},n))}};function H(){g.lockEntities.apply(void 0,[E.default.editorState].concat(D(S.default.currentSelection.getEntities())))}function Y(){g.unlockEntities.apply(void 0,[E.default.editorState].concat(D(S.default.currentSelection.getEntities())))}function F(){var e=E.default.editorState.getEntities(S.default.currentSelection.getEntities()),t=e.first().getBlockKey();Object(O.default)(e,t)}function U(){Object(j.updateEditorState)(w.removeEntities.apply(void 0,[E.default.editorState].concat(D(S.default.currentSelection.getEntities()))))}function Z(){Object(j.updateEditorState)(w.sendToBack.apply(void 0,[E.default.editorState].concat(D(S.default.currentSelection.getEntities()))))}function W(){Object(j.updateEditorState)(w.bringToFront.apply(void 0,[E.default.editorState].concat(D(S.default.currentSelection.getEntities()))))}function Q(e){Object(j.openEditContextMenuDownloadDropdown)(),e.stopPropagation(),e.preventDefault()}function J(e){var t=e.currentTarget.getAttribute("data-type");if(!y.default.getCurrentProfile().pro)return Object(R.default)();var n=S.default.currentSelection.getEntities().first();Object(P.downloadItem)(t,"chart",n)}function V(e){s.a.paste().then(function(t){Object(k.default)(t,e)}).catch(C.default.showCopyPasteInstructions)}var $=function(e){var t=v.ActiveTextEditorStore.currentId,n=v.ActiveTextEditorStore.editing,o=S.default.currentSelection;if(n&&o.containsEntity(t))e.stopPropagation();else{var r,i=E.default.editorState.getEntities(S.default.currentSelection.getEntities()),a=i.first().type,c=i.every(function(e){return e.locked}),l=i.every(function(e){return!e.locked}),u=[{name:i18n.t("app.editor_context_menu.copy"),onClick:x.default,shortcut:G?"⌘C":"Ctrl+C"},{name:i18n.t("app.editor_context_menu.paste"),onClick:V,shortcut:G?"⌘V":"Ctrl+V"},{name:i18n.t("app.editor_context_menu.moveToFront"),onClick:W,shortcut:G?"⌘]":"Ctrl+]"},{name:i18n.t("app.editor_context_menu.moveToBack"),onClick:Z,shortcut:G?"⌘[":"Ctrl+["},{name:i18n.t("app.editor_context_menu.duplicate"),onClick:F,shortcut:G?"⌘D":"Ctrl+D"}];c||u.push({name:i18n.t("app.editor_context_menu.lock"),onClick:H}),l||u.push({name:i18n.t("app.editor_context_menu.unlock"),onClick:Y}),"CHART"===a&&(u.push({name:i18n.t("app.editor_context_menu.exportAs"),onClick:Q,separator:!0,download:!0}),r=[{name:i18n.t("app.editor_context_menu.pngImage"),onClick:J,type:"png"},{name:i18n.t("app.editor_context_menu.jpgImage"),onClick:J,type:"jpg"},{name:i18n.t("app.editor_context_menu.pdfVectorImage"),onClick:J,type:"pdf"},{name:i18n.t("app.editor_context_menu.animatedGif"),onClick:J,type:"gif"}]),u.push({name:i18n.t("app.editor_context_menu.delete"),onClick:U,shortcut:G?"⌫":"Del"}),e.preventDefault(),e.stopPropagation(),Object(j.openEditContextMenu)(u,r,{x:e.nativeEvent.pageX,y:e.nativeEvent.pageY})}};function ee(e,t,n){return l.a.createElement("div",{style:{width:"100%",height:"100%"},onContextMenu:$},X(e,t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){I(e,t,n[t])})}return e}({},n,{inEditMode:!0,onLinkPreviewClick:j.onLinkPreviewClick})))}},siZP:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1X58R0GuQYPaayD7UIqr2B {\n    min-width: 170px;\n    background-color: #2d2d2d;\n    border-radius: 4px;\n    border: 2px solid #656565;\n    text-align: left;\n}\n\n._2DJNC8h4DZ-iJHuRO3vDij {\n    background-color: #656565;\n    height: 40px;\n    padding-left: 10px;\n    line-height: 40px;\n}\n\n._1_7ccgBSlwAfWdEZXvXm1i {\n    padding: 10px;\n    font-size: 11px;\n}\n\n._2ks7r-yfq92e5mEmpkgcq {\n    margin: 5px -10px;\n    height: 2px;\n    border: 0;\n    background-color: #656565;\n}\n\n._3lgZGnnR-RtAXFZ7SdH7FS {\n    margin-bottom: 5px;\n}\n\n._3lgZGnnR-RtAXFZ7SdH7FS .switch-label {\n    font-size: 11px;\n}\n\n._2JXSRE48ykSouuCCT4CT-a {\n    display: inline-block;\n    float: right;\n    margin-top: 2px;\n    font-size: 16px;\n    cursor: help;\n    color: #7d7d7d;\n}\n\n._2JXSRE48ykSouuCCT4CT-a:after {\n    float: left;\n    font-size: 11px;\n    margin-right: 7px;\n    content: attr(data-key);\n    line-height: 21px;\n}\n\n.ye4H1kpE4cRckPyTljl5U {\n    padding-top: 8px;\n}\n\n.tr2Ybm3qUuNh6Toq0leHY {\n    float: right;\n}\n\n._33_AQ6ZAFS000fCNMCjFqE .slider-area {\n    background-color: #434343;\n}\n",""]),t.locals={container:"_1X58R0GuQYPaayD7UIqr2B",header:"_2DJNC8h4DZ-iJHuRO3vDij",content:"_1_7ccgBSlwAfWdEZXvXm1i",divider:"_2ks7r-yfq92e5mEmpkgcq",toggle:"_3lgZGnnR-RtAXFZ7SdH7FS",helpButton:"_2JXSRE48ykSouuCCT4CT-a",sliderLabel:"ye4H1kpE4cRckPyTljl5U",sliderLabelValue:"tr2Ybm3qUuNh6Toq0leHY",slider:"_33_AQ6ZAFS000fCNMCjFqE"}},t4t9:function(e,t,n){"use strict";n.r(t);var o=n("Zcty"),r=n("Jgc/"),i=n("hl5+");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,u(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,r["ReduceStore"]),n=t,(o=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_DISPLAY_START_SAVING:return!0;case i.EDITOR_DISPLAY_STOP_SAVING:return!1}return e}},{key:"isSaving",get:function(){return this.getState()}}])&&c(n.prototype,o),a&&c(n,a),t}();t.default=new p(o.default)},tE8V:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1hCGGNHlQvtE90ayPOuYhm {\n\tmargin-top: 50px;\n}\n\n._2dtVQRXWUiPmbQfj-fIzjb {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0 0 70px 0;\n}\n\n._2510-zrO9rAtpsUf7OJ6td {\n\tdisplay: block;\n\tposition: relative;\n\tpadding: 15px 0 15px 40px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:before {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 1px;\n\ttop: 0;\n\tleft: 20px;\n\tbottom: 0;\n\tbackground-color: #656565;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:after {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 17px;\n\ttop: 17px;\n\twidth: 7px;\n\theight: 7px;\n\tbackground-color: #656565;\n\tborder-radius: 50%;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:last-child:before {\n\tbottom: auto;\n\theight: 17px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:before {\n\ttop: 15px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:after {\n\twidth: 11px;\n\theight: 11px;\n\tleft: 15px;\n\ttop: 15px;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW {\n\tbackground-color: #656565;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW:after {\n\tbackground-color: #cacaca;\n}\n\n._1qghFzpelIhDHSXMsrTLrR {\n\tmargin-top: 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n._3nxToVRFV-oCqxLHdMj-Gb {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\twidth: 20px;\n\theight: 20px;\n\tline-height: 21px;\n\tbackground-size: cover;\n\tborder-radius: 100%;\n\tborder: none;\n\tfont-size: 10px;\n\tfont-weight: 500;\n}\n\n.A051V1q8Qr3yRgunJdA5z {\n\tdisplay: inline-block;\n\tfont-size: 11px;\n\tmargin-left: 5px;\n\tcolor: #fff;\n\topacity: 0.5;\n}\n",""]),t.locals={loading:"_1hCGGNHlQvtE90ayPOuYhm",list:"_2dtVQRXWUiPmbQfj-fIzjb",item:"_2510-zrO9rAtpsUf7OJ6td",selected:"_1-f7CRhhtCLpjPiDSfKMKW",author:"_1qghFzpelIhDHSXMsrTLrR",avatar:"_3nxToVRFV-oCqxLHdMj-Gb",name:"A051V1q8Qr3yRgunJdA5z"}},"tl4+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return O});var o,r,i,a=n("q1tI"),c=n.n(a),l=n("17x9"),u=n.n(l),s=n("/MKj"),p=n("TSYQ"),f=n.n(p),d=n("/zge"),y=n("VuSB"),h=n("Q7VM"),b=n.n(h),g=n("aXXi");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=Object(s.connect)(function(e){return{showGuides:e.getIn(["flexEditorGrid","showGuides"]),snapObjects:e.getIn(["flexEditorGrid","snapObjects"]),whitespacePercent:e.getIn(["flexEditorGrid","whitespacePercent"]),columnCount:e.getIn(["flexEditorGrid","columnCount"])}},function(e){return{setShowGuides:function(t,n){e({type:g.FLEX_EDITOR_GRID_SHOW_GUIDES,payload:n})},setSnapObjects:function(t,n){e({type:g.FLEX_EDITOR_GRID_SNAP_OBJECTS,payload:n})},setWhitespacePercent:function(t){var n=w(t,1)[0];e({type:g.FLEX_EDITOR_GRID_SET_WHITESPACE_PERCENT,payload:Math.round(2*n)/2})},setColumnCount:function(t){var n=w(t,1)[0];e({type:g.FLEX_EDITOR_GRID_SET_COLUMN_COUNT,payload:Math.round(n)})}}})((i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,E(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,a["PureComponent"]),n=t,(o=[{key:"render",value:function(){return c.a.createElement("div",{className:b.a.container},c.a.createElement("div",{className:b.a.header},i18n.t("app.freelayout_editor.layout.popupTitle2")),c.a.createElement("div",{className:b.a.content},c.a.createElement(d.default,{label:i18n.t("app.freelayout_editor.layout.showGuides"),onChange:this.props.setSnapObjects,active:this.props.snapObjects,singleLine:!0,style:"small",className:b.a.toggle}),c.a.createElement("span",{className:f()("icon-info-stroke",b.a.helpButton),"data-tooltip-position":"right","data-tooltip":i18n.t("app.freelayout_editor.layout.guidesTooltip"),"data-key":"G"}),c.a.createElement(d.default,{label:i18n.t("app.freelayout_editor.layout.showLayout"),onChange:this.props.setShowGuides,active:this.props.showGuides,singleLine:!0,style:"small",className:b.a.toggle}),c.a.createElement("span",{className:f()("icon-info-stroke",b.a.helpButton),"data-tooltip-position":"right","data-tooltip":i18n.t("app.freelayout_editor.layout.layoutTooltip"),"data-key":"L"}),c.a.createElement("div",{className:b.a.divider}),c.a.createElement("div",{className:b.a.sliderLabel},i18n.t("app.freelayout_editor.layout.whitespaceSlider2"),c.a.createElement("span",{className:b.a.sliderLabelValue},2*this.props.whitespacePercent)),c.a.createElement(y.default,{className:b.a.slider,min:0,max:6,value:this.props.whitespacePercent,onChange:this.props.setWhitespacePercent}),c.a.createElement("div",{className:b.a.sliderLabel},i18n.t("app.freelayout_editor.layout.columnSlider2"),c.a.createElement("span",{className:b.a.sliderLabelValue},this.props.columnCount)),c.a.createElement(y.default,{className:b.a.slider,min:1,max:12,value:this.props.columnCount,onChange:this.props.setColumnCount})))}}])&&v(n.prototype,o),r&&v(n,r),t}(),r.propTypes={setShowGuides:u.a.func.isRequired,setSnapObjects:u.a.func.isRequired,setWhitespacePercent:u.a.func.isRequired,setColumnCount:u.a.func.isRequired,showGuides:u.a.bool.isRequired,snapObjects:u.a.bool.isRequired,whitespacePercent:u.a.number.isRequired,columnCount:u.a.number.isRequired},o=i))||o},ttbh:function(e,t,n){var o=n("sPB4");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},vCdm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return l});var o=n("f+XQ"),r=n.n(o),i=n("SXCJ"),a=n("EKef"),c=n("Sye6");function l(){var e=a.default.editorState,t=c.default.currentSelection,n=c.default.currentSelection.getBlocks();if(!t.isEmpty()||1===n.size){var o,l={source:"infogram.com",type:"flex",pageSize:a.default.editorState.getPageSize(),entities:[],fonts:e.getFonts().toJS()};if(1===n.size){var u=n.first(),s=e.getCurrentContent().getBlock(u);o=s.getEntities(),l.isBlock=!0,l.design={background:e.getBlockDesignProperty(s,"background")}}else o=e.getEntities(t.getEntities());o.forEach(function(e){var t=e.toJS();delete t.key,delete t.blockKey,l.entities.push(t)});var p=JSON.stringify(l);r.a.copy({"text/plain":window.clipboardData?p:[].join("\n"),"application/json":p}).catch(i.default.showCopyPasteInstructions)}}},xugc:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n.n(o),i=n("up6U"),a=n("e0gr");t.default=Object(i.default)(function(e){return r.a.createElement(a.default,{entityKey:e.getKey()})})},ywRP:function(e,t,n){var o=n("o4AA");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(o,r);o.locals&&(e.exports=o.locals)},z3Ib:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return R});var o,r,i,a=n("17x9"),c=n.n(a),l=n("q1tI"),u=n.n(l),s=n("yb06"),p=n.n(s),f=n("/MKj"),d=n("TSYQ"),y=n.n(d),h=n("Sye6"),b=n("SFB+"),g=n("TJ0u"),m=n("PFhn"),v=n("qLhN"),_=n.n(v);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=["begin","end"],C=["n","ne","e","se","s","sw","w","nw"],P=["ns-resize","nesw-resize","ew-resize","nwse-resize"],R=Object(f.connect)(function(e){return{mousePosition:e.get("mousePosition")}})(o=Object(m.default)({withProps:!0})((i=r=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=S(t).call(this,e))||"object"!==E(r)&&"function"!=typeof r?x(o):r)._setRef=n._setRef.bind(x(x(n))),n._storePositions=n._storePositions.bind(x(x(n))),n._getCursor=n._getCursor.bind(x(x(n))),n._findActiveResize=n._findActiveResize.bind(x(x(n))),n._handleMouseDown=n._handleMouseDown.bind(x(x(n))),n._handleMouseUp=n._handleMouseUp.bind(x(x(n))),n._refs={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,l["Component"]),O(t,null,[{key:"getStores",value:function(){return[b.default,g.default,h.default]}},{key:"calculateState",value:function(e,t){var n=g.default.scrolling,o=b.default.getState(),r=t&&t.resizing,i=e&&e.positions,a=!h.default.multiSelectionActive,c=h.default.currentSelection,l=e&&e.selected;return e&&e.resizing&&!r&&(l=null),{positions:i,selected:l,scrolling:n,zoom:o,resizing:r,sideResizeEnabled:a,selection:c}}}]),O(t,[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){(t.scrolling&&!this.state.scrolling||t.zoom!==this.state.zoom||t.resizing&&!this.state.resizing||t.selection!==this.state.selection)&&this._storePositions()}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.lineMode,r=n.width,i=n.height,a=this.state.sideResizeEnabled,c=this._findActiveResize();if(o)e=j;else{var l=[a&&r>24,!0,a&&i>24,!0];e=C.filter(function(e,t){return l[t%4]})}return u.a.createElement("div",null,e.map(function(e){return u.a.createElement("div",{className:y()(o?_.a.lineResizeHandle:_.a.resizeHandle,_.a[e]),style:{cursor:t._getCursor(e)},key:e,ref:function(n){return t._setRef(e,n)},onMouseDown:function(){return t._handleMouseDown(e)},onMouseUp:t._handleMouseUp},u.a.createElement("div",{className:y()(o?_.a.lineResizeHandleCircle:_.a.resizeHandleRectangle),style:{transform:t._getTransform(e,c,o)}}))}))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,o=this.state,r=o.positions,i=o.selected;if(i)return{type:i,scale:1};var a=null;return!r||i||t||Object.keys(r).forEach(function(e){var t,o,i=r[e],c=i?(t=i,o=n,Math.floor(Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2)))):1/0;(!a||c<a.distance)&&(a={type:e,distance:c})}),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>70)return 0;var t=.75*(83-e)/70+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getCursor",value:function(e){if(this.props.lineMode)return"move";var t=C.indexOf(e),n=this.props.rotation+112.5,o=Math.floor(n/45)-2;return P[(P.length+t+o)%P.length]}},{key:"_getTransform",value:function(e,t,n){var o=0;return n?o=1:t&&t.type===e&&(o=t.scale),"scale(".concat(o,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach(function(n){var o=e._refs[n];t[n]=o?e._getPosition(o):null}),this.setState({positions:t})}},{key:"_setRef",value:function(e,t){var n;this.props.lineMode?n=this.props.handlers[e]:n=C.indexOf(e)%2?this.props.handlers.resize:this.props.handlers.resizeSide;n(t),this._refs[e]=t}},{key:"_handleMouseDown",value:function(e){this.setState({selected:e})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}]),t}(),r.propTypes={width:c.a.number.isRequired,height:c.a.number.isRequired,handlers:c.a.object.isRequired,rotation:c.a.number.isRequired,resizing:c.a.bool.isRequired,lineMode:c.a.bool.isRequired,mousePosition:p.a.contains({x:c.a.number.isRequired,y:c.a.number.isRequired})},o=i))||o)||o}}]);